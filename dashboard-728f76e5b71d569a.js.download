(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8026],{51075:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard",function(){return n(24920)}])},7420:function(e,t,n){"use strict";n.d(t,{h:function(){return x}});var s=n(10253),i=n(85893),o=n(11355),a=n(69737),l=n(67294),r=n(40487),c=n(66261),d=n(52077),u=n(25675),m=n.n(u),h=n(3732),f=n(61437),x=function(e){var t,n=e.open,u=e.setOpen,x=(e.onAction,e.type),p=void 0===x?"custom":x,v=e.isLoading,b=void 0!==v&&v,g=(0,s.Z)((0,f.Z)("layout.paywall",!1),2),j=(g[0],g[1]),w={custom:{title:"Unlock a custom domain",subtitle:(0,i.jsxs)("p",{className:"text-sm",children:["Get a ",(0,i.jsx)("span",{className:"font-bold",children:"free"})," custom domain name when you upgrade your plan."]}),image:"paywall/custom-domain-features.png"},external:{title:"Link your existing domain ",subtitle:(0,i.jsxs)("p",{className:"text-sm",children:["Link your existing domain for ",(0,i.jsx)("span",{className:"font-bold",children:"free"})," when you upgrade your plan."]}),image:"paywall/external-domain-features.png"}};return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(o.u.Root,{show:n,as:l.Fragment,children:(0,i.jsxs)(a.V,{as:"div",className:"fixed z-100 md:inset-0 w-full md:w-auto overflow-hidden bottom-0",onClose:function(){return u(!1)},children:[b&&(0,i.jsx)(r.k,{text:loaderText}),(0,i.jsxs)("div",{className:"flex items-end justify-center min-h-screen text-center md:block",children:[(0,i.jsx)(o.u.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,i.jsx)(a.V.Overlay,{className:"fixed inset-0 bg-black bg-opacity-40 backdrop-blur-2xs transition-opacity"})}),(0,i.jsx)("span",{className:"hidden md:inline-block md:align-middle md:h-screen","aria-hidden":"true",children:"\u200b"}),(0,i.jsx)(o.u.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 md:translate-y-0 md:scale-95",enterTo:"opacity-100 translate-y-0 md:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 md:scale-100",leaveTo:"opacity-0 translate-y-4 md:translate-y-0 md:scale-95",children:(0,i.jsx)("div",{className:"inline-block align-middle w-full md:w-auto bg-white rounded-t-lg md:rounded-lg md:my-8 text-left overflow-hidden shadow-xl transform transition-all",children:(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:"bg-white w-full md:w-[860px] rounded-xl flex order-5 shadow",children:[(0,i.jsx)("div",{className:"relative md:w-[464px]",children:(0,i.jsx)(m(),{src:(0,h.sd)(null===(t=w[p])||void 0===t?void 0:t.image),alt:"AI-Powered Assistant",layout:"fill",objectFit:"cover",className:"w-full h-full object-center object-cover"})}),(0,i.jsxs)("div",{className:"flex flex-col p-8 pt-6 gap-1 w-[396px]",children:[(0,i.jsx)("button",{type:"button",className:"bg-white self-end rounded-md text-gray-600 transition-all hover:text-gray-400 focus:border-1 focus:ring-indigo-500 focus:border-indigo-500",onClick:function(){return u(!1)},children:(0,i.jsx)(c.Z,{icon:"XSolidIcon",className:"h-4 w-4","aria-hidden":"true"})}),(0,i.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,i.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,i.jsx)("p",{className:"text-h3 font-bold",children:w[p].title}),w[p].subtitle]}),(0,i.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,i.jsx)("p",{className:"font-semibold",children:"You will also get"}),(0,i.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,i.jsxs)("div",{className:"flex gap-1.5 items-center",children:[(0,i.jsx)(c.Z,{icon:"CheckCircleSolidIcon",className:"h-4 w-4"}),(0,i.jsx)("p",{children:"More website pages"})]}),(0,i.jsxs)("div",{className:"flex gap-1.5 items-center",children:[(0,i.jsx)(c.Z,{icon:"CheckCircleSolidIcon",className:"h-4 w-4"}),(0,i.jsx)("p",{children:"Premium website features"})]}),(0,i.jsxs)("div",{className:"flex gap-1.5 items-center",children:[(0,i.jsx)(c.Z,{icon:"CheckCircleSolidIcon",className:"h-4 w-4"}),(0,i.jsx)("p",{children:"CRM and automation tools"})]}),(0,i.jsxs)("div",{className:"flex gap-1.5 items-center",children:[(0,i.jsx)(c.Z,{icon:"CheckCircleSolidIcon",className:"h-4 w-4"}),"Invoices and payment tracking"]})]})]}),(0,i.jsx)(d.Z,{onClick:function(){j(!0),u(!1)},className:"primary",children:"View plans"})]})]})]})})})})]})]})})})}},87423:function(e,t,n){"use strict";var s=n(47568),i=n(97582),o=n(4519),a=n(67294);t.Z=function(e){var t=e.url,n=e.method,l=void 0===n?"get":n,r=e.upload,c=void 0!==r&&r,d=e.triggerLoad,u=void 0===d||d,m=e.removeIdBusiness,h=void 0!==m&&m,f=e.onSuccess,x=e.onError,p=e.throwOnError,v=void 0!==p&&p,b=(0,a.useState)(null),g=b[0],j=b[1],w=(0,a.useState)(!1),y=w[0],N=w[1],k=(0,a.useState)(""),C=k[0],I=k[1],S=(0,a.useRef)(!0),A=(0,o.Z)(),Z=A.get,D=A.post;function E(){return E=(0,s.Z)((function(e){var n,s;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:N(!0),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,"get"===l?Z(t,e,u,h):D(t,e,c,h)];case 2:if(n=i.sent(),S){if(n&&!0===n.status)return f?n.content?f(n.content):f():j(n.content),[2,n.content];throw new Error(n.message)}return[3,5];case 3:if(s=i.sent(),x&&x(s.message||"Unexpected Error!"),S&&I(s.message||"Unexpected Error!"),v)throw s;return[3,5];case 4:return S&&N(!1),[7];case 5:return[2]}}))})),E.apply(this,arguments)}return(0,a.useEffect)((function(){return function(){return S.current=!1}}),[]),{data:g,error:C,isLoading:y,request:function(e){return E.apply(this,arguments)}}}},24920:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ee}});var s=n(47568),i=n(10253),o=n(97582),a=n(85893),l=n(67294),r=n(61437),c=n(41664),d=n.n(c),u=n(30120),m=n(25675),h=n.n(m),f=n(53328);const x="label";function p(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function v(e,t){e.labels=t}function b(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:x;const s=[];e.datasets=t.map((t=>{const i=e.datasets.find((e=>e[n]===t[n]));return i&&t.data&&!s.includes(i)?(s.push(i),Object.assign(i,t),i):{...t}}))}function g(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:x;const n={labels:[],datasets:[]};return v(n,e.labels),b(n,e.datasets,t),n}function j(e,t){let{height:n=150,width:s=300,redraw:i=!1,datasetIdKey:o,type:a,data:r,options:c,plugins:d=[],fallbackContent:u,updateMode:m,...h}=e;const x=(0,l.useRef)(null),j=(0,l.useRef)(),w=()=>{x.current&&(j.current=new f.kL(x.current,{type:a,data:g(r,o),options:c&&{...c},plugins:d}),p(t,j.current))},y=()=>{p(t,null),j.current&&(j.current.destroy(),j.current=null)};return(0,l.useEffect)((()=>{var e,t;!i&&j.current&&c&&(e=j.current,t=c,Object.assign(e.options,t))}),[i,c]),(0,l.useEffect)((()=>{!i&&j.current&&v(j.current.config.data,r.labels)}),[i,r.labels]),(0,l.useEffect)((()=>{!i&&j.current&&r.datasets&&b(j.current.config.data,r.datasets,o)}),[i,r.datasets]),(0,l.useEffect)((()=>{j.current&&(i?(y(),setTimeout(w)):j.current.update(m))}),[i,c,r.labels,r.datasets,m]),(0,l.useEffect)((()=>{j.current&&(y(),setTimeout(w))}),[a]),(0,l.useEffect)((()=>(w(),()=>y())),[]),l.createElement("canvas",Object.assign({ref:x,role:"img",height:n,width:s},h),u)}const w=(0,l.forwardRef)(j);function y(e,t){return f.kL.register(t),(0,l.forwardRef)(((t,n)=>l.createElement(w,Object.assign({},t,{ref:n,type:e}))))}const N=y("line",f.ST);var k=n(31877),C=n(57333),I=n(11163),S=n(87423),A=n(52077),Z=n(4519),D=n(3732),E=n(66261),_=n(7420),R=n(11355),F=n(69737),B=n(4156),T=n(33299),L=n(16494),O=(n(53371),n(43714)),M=(n(51121),n(27599),n(86383),n(86664),n(47221),n(40487),function(e){var t=e.open,n=e.setOpen,s=e.onAction,i=e.setSelectedDomain;e.isLoading,(0,T.useSession)().data;return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(R.u.Root,{show:t,as:l.Fragment,children:(0,a.jsx)(F.V,{as:"div",className:"fixed z-100 md:inset-0 w-full h-full overflow-hidden bottom-0",onClose:function(){return console.log("")},children:(0,a.jsxs)("div",{className:"flex items-end justify-center min-h-screen text-center md:block",children:[(0,a.jsx)(R.u.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,a.jsx)(F.V.Overlay,{className:"fixed inset-0 bg-black bg-opacity-40 backdrop-blur-2xs transition-opacity"})}),(0,a.jsx)("span",{className:"hidden md:inline-block md:align-middle md:h-screen","aria-hidden":"true",children:"\u200b"}),(0,a.jsx)(R.u.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 md:translate-y-0 md:scale-95",enterTo:"opacity-100 translate-y-0 md:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 md:scale-100",leaveTo:"opacity-0 translate-y-4 md:translate-y-0 md:scale-95",children:(0,a.jsx)("div",{className:" px-4 md:px-18 inline-block align-middle w-full bg-white rounded-t-lg md:rounded-none text-left shadow-xl transform transition-all",children:(0,a.jsxs)("div",{className:"flex flex-col h-dyn overflow-y-hidden pt-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 md:py-5 md:px-6",children:[(0,a.jsx)("div",{className:"relative w-10 h-10",children:(0,a.jsx)(h(),{src:(0,D.sd)("durable-icon-primary.svg"),layout:"fill",objectFit:"fill",alt:"Sorry, unexpected error"})}),(0,a.jsx)("button",{type:"button",className:"bg-white rounded-md text-gray-600 transition-all hover:text-gray-400 focus:border-1 focus:ring-indigo-500 focus:border-indigo-500",onClick:function(){return n(!1)},children:(0,a.jsx)(E.Z,{icon:"XSolidIcon",className:"h-6 w-6","aria-hidden":"true"})})]}),(0,a.jsx)("div",{className:"flex justify-center flex-1 overflow-y-hidden",children:(0,a.jsx)("div",{className:"w-full max-w-3xl flex flex-col flex-1 ",children:(0,a.jsx)(B.Z,{className:"px-4 md:px-6",fullheight:!0,seeMoreSteps:10,setSelectedDomain:i,onAction:s})})})]})})})]})})})})});var P=n(4298),V=n.n(P),K=n(60728),z=(n(25374),n(63553));function W(e){var t,n,c,u,m,h,f,x=e.onAction,p=(0,Z.Z)(),v=p.get,b=p.post,g=(0,l.useState)(null),j=g[0],w=g[1],y=(0,l.useState)(!1),N=y[0],k=y[1],C=(0,l.useState)(!1),S=C[0],R=C[1],F=(0,l.useState)(null),B=F[0],P=F[1],W=(0,l.useState)(!1),U=W[0],X=W[1],q=(0,l.useState)(null),Y=q[0],G=q[1],H=(0,l.useState)(!1),J=(H[0],H[1],(0,l.useState)(!1)),$=J[0],Q=(J[1],(0,i.Z)((0,r.Z)("layout.paywall"),2)),ee=(Q[0],Q[1]),te=(0,T.useSession)().data,ne=(0,K.Z)(),se=ne.confirm,ie=ne.ConfirmDialog,oe=(function(){var e=(0,Z.Z)(),t=e.get,n=(e.post,(0,l.useState)(null)),i=n[0],a=n[1];(0,l.useEffect)((function(){i&&window.entri.showEntri(i)}),[i]);var r=function(){var e=(0,s.Z)((function(){var e;return(0,o.__generator)(this,(function(n){switch(n.label){case 0:return[4,t("/entri/entri-settings")];case 1:return e=n.sent(),fetch("https://api.goentri.com/token",{method:"POST",body:JSON.stringify({applicationId:"durable",secret:"ae55104661dcad6e3a5c522856bb766ab751262400c9d3eba83317700bc67de7"})}).then((function(e){return e.json()})).then((function(t){var n,s;a({applicationId:"durable",token:t.auth_token,supportForSubdomains:!0,whiteLabel:{removeShareLogin:!0},dnsRecords:{domain:[{value:"0675f06bfbca2680fb3ba12caa20038b",host:"durable",ttl:300,type:"TXT",fallbackValue:"",priority:null},{value:(0,D.lz)({subdomain:"websites",durableDomain:null===e||void 0===e||null===(n=e.content)||void 0===n?void 0:n.durableDomain}),host:"www",ttl:3600,type:"CNAME",fallbackValue:"",priority:null},{value:"172.66.0.42",host:"@",ttl:3600,type:"A",fallbackValue:"",priority:null}],subDomain:[{value:"0675f06bfbca2680fb3ba12caa20038b",host:"durable",ttl:300,type:"TXT",fallbackValue:"",priority:null},{value:(0,D.lz)({subdomain:"websites",durableDomain:null===e||void 0===e||null===(s=e.content)||void 0===s?void 0:s.durableDomain}),host:"{SUBDOMAIN}.{DOMAIN}",ttl:3600,type:"CNAME",fallbackValue:"",priority:null}]}})})).catch((function(e){console.error("Error:",e)})),[2]}}))}));return function(){return e.apply(this,arguments)}}();return{init:r}}().init,(0,I.useRouter)()),ae=(0,O.Z)().track,le={custom:(0,a.jsx)(A.Z,{onClick:function(){return X(!0)},className:"light cursor-pointer",children:"Customize domain"}),external:(0,a.jsx)(A.Z,{onClick:function(){oe.push("/website/domain")},disabled:$,className:"light cursor-pointer",children:"Link domain"}),publish:(0,a.jsx)(A.Z,{onClick:function(){var e,t;"free"===(null===te||void 0===te||null===(e=te.user)||void 0===e||null===(t=e.plan)||void 0===t?void 0:t.priceId)?(ae("account:paywall-click",{context:"publish_website_dashboard",page:oe.pathname}),ee(!0)):fe()},className:"light cursor-pointer",children:"Publish"}),viewWebsite:(0,a.jsx)(A.Z,{onClick:function(){return x("external")},className:"light cursor-pointer",children:(0,a.jsx)(d(),{href:"https://".concat(null===j||void 0===j?void 0:j.domain),children:(0,a.jsxs)("a",{target:"_blank",className:"flex gap-2 items-center",children:[(0,a.jsx)("p",{className:"font-medium",children:"View website"}),(0,a.jsx)(E.Z,{icon:"ArrowUpRightIcon",from:"heroicon",className:"h-5 w-5"})]})})}),loading:(0,a.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,a.jsx)("p",{className:"text-gray-500",children:"Please wait"}),(0,a.jsx)(L.Z,{className:"!w-6 !h-6",variant:"icon"})]})},re=null,ce=function(){var e=(0,s.Z)((function(){var e,t,n,s,i,a,l;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return[4,v("/website/status")];case 1:return(e=o.sent())&&!0===e.status&&e.content&&((null===(s=e.content)||void 0===s||null===(t=s.customDomainInfo)||void 0===t||null===(n=t.status)||void 0===n?void 0:n.includes("processing"))?de():ue(),""===s.domain?(w({type:"subdomain",domain:(0,D.lz)(s),status:s.status,onboarding:null!==(i=null===s||void 0===s?void 0:s.domainAnswer)&&void 0!==i?i:"custom",customDomainInfo:null===s||void 0===s?void 0:s.customDomainInfo,website:s}),P("subdomain")):(a=""!==(null===s||void 0===s?void 0:s.domain)&&(null===s||void 0===s?void 0:s.domain)===(null===s||void 0===s?void 0:s.customDomain)?"custom":"external",w({type:a,domain:s.domain,status:s.status,onboarding:null!==(l=null===s||void 0===s?void 0:s.domainAnswer)&&void 0!==l?l:"custom",customDomainInfo:null===s||void 0===s?void 0:s.customDomainInfo,website:s}),P(a))),[2]}}))}));return function(){return e.apply(this,arguments)}}(),de=function(){re||(re=setInterval((function(){ce()}),5e3))},ue=function(){re&&(clearInterval(re),re=null)};function me(e){return he.apply(this,arguments)}function he(){return he=(0,s.Z)((function(e){var t,n,s;return(0,o.__generator)(this,(function(i){return(null===e||void 0===e||null===(t=e.detail)||void 0===t?void 0:t.success)&&"sharedLogin"!==(null===e||void 0===e||null===(n=e.detail)||void 0===n?void 0:n.setupType)&&(s=e.detail.domain.replace("www.","").toLowerCase(),b("/website/set-primary-domain",{domainType:"external-domain",domain:s}).then((function(e){(null===e||void 0===e?void 0:e.status)?(D.Z9.success("Domain linked"),w(null),setTimeout((function(){ce()}),1e3)):D.Z9.error(e.message)})).catch((function(e){D.Z9.error(e.message)}))),[2]}))})),he.apply(this,arguments)}(0,l.useEffect)((function(){return window.addEventListener("onEntriClose",me),function(){window.removeEventListener("onEntriClose",me)}}),[]);var fe=function(){se("Publish website",(0,a.jsxs)("p",{children:["Are you sure you want to publish your website ",(0,a.jsx)("span",{className:"font-medium",children:j.domain}),"?"]}),(0,s.Z)((function(){var e;return(0,o.__generator)(this,(function(t){switch(t.label){case 0:return[4,b("/website/toggle-status",{status:"public"}).catch(console.log)];case 1:return(e=t.sent())&&!0===e.status?(P(null===j||void 0===j?void 0:j.type),D.Z9.success("Website published"),w(null),setTimeout((function(){ce()}),1e3)):D.Z9.error(e.message),[2]}}))})),null)};(0,l.useEffect)((function(){U||G(null)}),[U]);var xe;return(0,l.useEffect)((function(){ce()}),[]),(0,l.useEffect)((function(){Y&&X(!0)}),[Y]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(V(),{src:"https://cdn.goentri.com/entri.js"}),(0,a.jsx)(ie,{confirmText:"Publish"}),j?(0,a.jsxs)(a.Fragment,{children:[("payment_failed"===(null===j||void 0===j||null===(t=j.customDomainInfo)||void 0===t?void 0:t.status)||"registration_error"===(null===j||void 0===j||null===(n=j.customDomainInfo)||void 0===n?void 0:n.status))&&(0,a.jsxs)("div",{className:"mb-4 flex bg-red-50 gap-4 p-4 md:p-6 rounded-xl",children:[(0,a.jsx)(E.Z,{icon:"InformationCircleIcon",className:"flex-shrink-0 text-red-600 w-5 h-5"}),(0,a.jsxs)("div",{className:"flex flex-col text-red-600 gap-2",children:[(0,a.jsx)("p",{className:"font-medium text-red-800",children:null!==(xe=null===j||void 0===j||null===(c=j.customDomainInfo)||void 0===c?void 0:c.failureDetails)&&void 0!==xe?xe:"Your credit card has expired"}),(0,a.jsx)("p",{className:"",children:"Please update it to keep your domain name."}),(0,a.jsx)("p",{onClick:function(){var e,t,n;G({domain:null===j||void 0===j||null===(e=j.customDomainInfo)||void 0===e?void 0:e.domain,price:null===j||void 0===j||null===(t=j.customDomainInfo)||void 0===t||null===(n=t.price)||void 0===n?void 0:n.registrationPrice})},className:"text-red-800 underline cursor-pointer",children:"payment_failed"===(null===j||void 0===j||null===(u=j.customDomainInfo)||void 0===u?void 0:u.status)?"Update your card":"Update your information"})]})]}),(0,a.jsxs)("div",{className:(0,D.AK)("subdomain"===(null===j||void 0===j?void 0:j.type)?"bg-gray-100":"bg-gray-800 text-white","p-6 flex flex-col md:flex-row justify-between gap-4 items-start md:items-center rounded-xl"),children:[(0,a.jsx)("div",{className:"flex flex-row-reverse md:flex-row gap-3 md:items-center",children:(null===j||void 0===j?void 0:j.customDomainInfo)&&"registered"!==(null===j||void 0===j||null===(m=j.customDomainInfo)||void 0===m?void 0:m.status)?function(){var e,t,n,s,i;return(null===j||void 0===j||null===(e=j.customDomainInfo)||void 0===e||null===(t=e.status)||void 0===t?void 0:t.includes("processing"))?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"bg-yellow-400 w-4 h-4 rounded-full flex-shrink-0"}),(0,a.jsxs)("p",{children:["Registering the domain ",(0,a.jsxs)("span",{className:"font-medium",children:[" ",null===j||void 0===j||null===(i=j.customDomainInfo)||void 0===i?void 0:i.domain]})]})]}):"payment_failed"===(null===j||void 0===j||null===(n=j.customDomainInfo)||void 0===n?void 0:n.status)||"registration_error"===(null===j||void 0===j||null===(s=j.customDomainInfo)||void 0===s?void 0:s.status)?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:(0,D.AK)("public"===j.status?"bg-green-400":"bg-yellow-400","w-4 h-4 rounded-full flex-shrink-0")}),(0,a.jsxs)("p",{children:["Your website",(0,a.jsxs)("span",{className:"font-medium break-all",children:[" ",j.domain]})," is","public"===j.status?(0,a.jsx)("span",{className:(0,D.AK)("subdomain"===(null===j||void 0===j?void 0:j.type)?"text-gray-900":"text-white"),children:" published"}):(0,a.jsx)("span",{onClick:function(){return oe.push("/website/settings")},className:(0,D.AK)("subdomain"===(null===j||void 0===j?void 0:j.type)?"text-indigo-700":"text-white","cursor-pointer"),children:" unpublished"})]})]}):void 0}():(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:(0,D.AK)("public"===j.status?"bg-green-400":"bg-yellow-400","w-5 h-5 rounded-full flex-shrink-0")}),(0,a.jsxs)("p",{children:["Your website",(0,a.jsxs)("span",{className:"font-medium break-all",children:[" ",j.domain]})," is","public"===j.status?(0,a.jsx)("span",{className:(0,D.AK)("subdomain"===(null===j||void 0===j?void 0:j.type)?"text-gray-900":"text-white"),children:" published"}):(0,a.jsx)("span",{onClick:function(){return oe.push("/website/settings")},className:(0,D.AK)("subdomain"===(null===j||void 0===j?void 0:j.type)?"text-indigo-700":"text-white","cursor-pointer"),children:" unpublished"})]})]})}),"payment_failed"!==(null===j||void 0===j||null===(h=j.customDomainInfo)||void 0===h?void 0:h.status)&&"registration_error"!==(null===j||void 0===j||null===(f=j.customDomainInfo)||void 0===f?void 0:f.status)&&function(){var e,t,n,s;return(null===j||void 0===j||null===(e=j.customDomainInfo)||void 0===e||null===(t=e.status)||void 0===t?void 0:t.includes("processing"))?le.loading:"subdomain"===(null===j||void 0===j?void 0:j.type)?"custom"===(null===j||void 0===j?void 0:j.onboarding)&&""===(null===j||void 0===j||null===(n=j.website)||void 0===n?void 0:n.customDomain)?le.custom:"custom"!==(null===j||void 0===j?void 0:j.onboarding)&&""===(null===j||void 0===j||null===(s=j.website)||void 0===s?void 0:s.externalDomain)?le.external:"public"===(null===j||void 0===j?void 0:j.status)?le.viewWebsite:le.publish:"public"===(null===j||void 0===j?void 0:j.status)?le.viewWebsite:le.publish}()]})]}):(0,a.jsx)("div",{className:(0,D.AK)("subdomain"===B?"bg-gray-100":"bg-gray-800 text-white","p-6 flex justify-between gap-4 items-center rounded-xl"),children:(0,a.jsx)(L.Z,{text:"Loading"})}),(0,a.jsx)(M,{open:S,setOpen:R,setSelectedDomain:G,onAction:function(){k(!0)}}),(0,a.jsx)(_.h,{open:N,setOpen:k,type:null===j||void 0===j?void 0:j.onboarding}),U&&(0,a.jsx)(z.Z,{showSuggestion:!0,refresh:function(){return ce()},open:U,setOpen:X,domain:Y,onAction:function(){R(!1),w(null),setTimeout((function(){ce()}),1e3)}})]})}var U=n(26042),X=n(41125),q=function(e){var t=e.children,n=e.bgColor,s=e.className,i=e.style,o=e.onClick;return(0,a.jsx)("div",{className:(0,D.AK)("flex flex-col w-full rounded-3xl relative h-90 overflow-hidden hover:scale-102 transition-transform duration-300 cursor-pointer",s),style:(0,U.Z)({backgroundColor:n},i||{}),onClick:o,children:t})},Y=function(e){var t=e.children,n=e.accentColor;e.bgColor;return(0,a.jsx)("div",{className:"relative z-5 w-full h-full",style:{background:"linear-gradient(180deg, ".concat((0,D.mR)(n,30)," 0%, ").concat((0,D.mR)(n,0)," 100%)")},children:t})},G=function(e){var t=e.title,n=e.subtitle,s=e.bgColor,i=e.ActionButton,o=e.allowWrap;return(0,a.jsxs)("div",{className:"absolute z-10 w-full bottom-0 rounded-b-3xl overflow-hidden",children:[(0,a.jsx)("div",{className:"relative w-full h-10",style:{background:"linear-gradient(180deg, transparent 0%, ".concat(s," 100%)")}}),(0,a.jsxs)("div",{className:(0,D.AK)("flex flex-1 items-center justify-between p-6 gap-4 rounded-b-3xl overflow-hidden",o?"flex-wrap":""),style:{background:s},children:[(0,a.jsxs)("div",{className:"flex flex-col gap-2",style:{color:(0,D.$O)(s)},children:[t&&(0,a.jsx)("p",{className:"text-h4 font-bold",children:t}),n&&(0,a.jsx)("p",{className:"text-label",children:n})]}),i]})]})},H=function(e){var t=e.className;return(0,a.jsxs)("div",{className:(0,D.AK)("flex flex-col w-full rounded-3xl relative h-90 overflow-hidden",t),children:[(0,a.jsx)("div",{className:"relative z-5 w-full h-full bg-gray-100 animate-pulse"}),(0,a.jsxs)("div",{className:"absolute z-10 w-full bottom-0",children:[(0,a.jsx)("div",{className:"relative w-full h-10 bg-gray-100 animate-pulse"}),(0,a.jsx)("div",{className:"flex flex-1 items-center justify-between p-6 gap-4 bg-gray-100 animate-pulse",children:(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)("p",{className:"text-h4 font-bold bg-gray-100 animate-pulse"}),(0,a.jsx)("p",{className:"text-label bg-gray-100 animate-pulse"})]})})]})]})},J=function(e){var t,n=e.title,s=e.subtitle,i=e.InformationBanner,o=e.ActionButton,l=e.className,r=e.data,c=e.bgColor,d=void 0===c?X.theme.extend.colors.gray[100]:c,u=e.accentColor,m=e.allowFooterWrap,h=e.style,f=e.onClick,x=(0,D.$O)(d);return(0,a.jsxs)(q,{className:l,bgColor:d,style:h,onClick:f,children:[(0,a.jsx)(Y,{accentColor:u,bgColor:d,children:i||(0,a.jsxs)("div",{className:"flex flex-col gap-6 p-6",children:[(0,a.jsx)("p",{className:"text-h2 font-bold",style:{color:u},children:null===r||void 0===r?void 0:r.primaryInfo}),(0,a.jsx)("ul",{children:null===r||void 0===r||null===(t=r.secondaryInfos)||void 0===t?void 0:t.map((function(e,t){return(0,a.jsxs)("li",{className:"flex items-center gap-4 py-2",style:{color:0===t?u:(0,D.mR)(x,60)},children:[(0,a.jsx)("p",{className:"text-h4 flex items-center justify-center rounded-4xl py-1.5 px-4 border-1 border-white border-opacity-10 bg-black bg-opacity-20 font-bold",children:null===e||void 0===e?void 0:e.value}),(0,a.jsx)("p",{className:"text-body-lg font-bold",children:null===e||void 0===e?void 0:e.label})]},null===e||void 0===e?void 0:e.label)}))})]})}),(0,a.jsx)(G,{title:n,subtitle:s,bgColor:d,ActionButton:o,allowWrap:m})]})},$=n(69842);k.Z.namespace="ChartJS";var Q=function(e){var t=e.imgSrc,n=e.alt,s=e.objectPosition;return(0,a.jsx)("div",{className:"absolute top-0 inset-x-0 h-full",children:(0,a.jsx)(h(),{src:(0,D.sd)(t),objectPosition:s||"top",layout:"fill",objectFit:"cover",alt:n})})};function ee(){var e=(0,i.Z)((0,r.Z)("layout.title","Home",!0),2),t=(e[0],e[1],(0,l.useState)((0,D.tl)("business.config"))),n=t[0],c=t[1],m=(0,l.useState)(),h=m[0],f=m[1],x=(0,l.useState)(),p=x[0],v=x[1],b=(0,l.useState)(),g=b[0],j=b[1],w=(0,l.useState)(),y=w[0],k=w[1],A=(0,l.useState)(),_=A[0],R=A[1],F=(0,l.useState)(),B=F[0],T=F[1],L=(0,l.useState)(),M=L[0],P=L[1],V=(0,l.useState)(!1),K=V[0],z=V[1],U=(0,i.Z)((0,r.Z)("assistant.isOpen"),2),q=(U[0],U[1],(0,l.useState)(null)),Y=(q[0],q[1],(0,l.useState)(!1)),G=(Y[0],Y[1]),ee=!(!_||_&&!_.generatedAt&&_.generate),te=(0,Z.Z)().get,ne=((0,O.Z)().track,(0,I.useRouter)()),se=function(e){var t,n,s=u.ou.now(),i=u.ou.local(s.year,null!==(t=null===e||void 0===e?void 0:e.month)&&void 0!==t?t:12,null!==(n=null===e||void 0===e?void 0:e.day)&&void 0!==n?n:31);return Math.ceil(i.diff(s,"days").days)},ie=function(){var e=(0,s.Z)((function(){var e;return(0,o.__generator)(this,(function(t){switch(t.label){case 0:return[4,te("/business/get-config")];case 1:return(e=t.sent())&&!0===e.status&&e.content&&((0,D.Fs)("business.config",e.content),c(e.content)),[2]}}))}));return function(){return e.apply(this,arguments)}}(),oe=function(e){var t=e.value;return(0,a.jsx)(C.Z,{value:t,displayType:"text",thousandSeparator:",",decimalSeparator:".",allowNegative:!1,decimalScale:2,suffix:"%"})},ae=(0,S.Z)({url:"/dashboard/get-website-infos",onSuccess:function(e){if(e){var t=Object.values(e.website.visits),n=t.slice(7,14).reduce((function(e,t){return e+t}),0),s=t.slice(0,7).reduce((function(e,t){return e+t}),0);(n>0||s>0)&&(T((n-s)/(s||1)*100),P({datasets:[{label:"Website visits",data:e.website.visits,borderColor:X.theme.extend.colors.blue[300],backgroundColor:function(e){var t=e.chart.ctx.createLinearGradient(0,0,0,150);return t.addColorStop(0,(0,D.mR)(X.theme.extend.colors.blue[300],50)),t.addColorStop(1,(0,D.mR)(X.theme.extend.colors.blue[300],10)),t},pointRadius:0,pointHitRadius:0,borderWidth:3,fill:!0}]})),R(e.website.infos)}}}),le=ae.request,re=ae.isLoading,ce=(0,S.Z)({url:"/dashboard/get-crm-infos",onSuccess:function(e){e&&e.crm.totalContacts>0&&v({primaryInfo:"".concat(e.crm.totalContacts," ").concat(e.crm.totalContacts>1?"contacts":"contact"),secondaryInfos:[{label:"new lead".concat(1!==e.crm.newLeads?"s":""),value:e.crm.newLeads},{label:"unread message".concat(1!==e.crm.unreadMessages?"s":""),value:e.crm.unreadMessages}]})}}),de=ce.request,ue=ce.isLoading,me=(0,S.Z)({url:"/dashboard/get-invoice-infos",onSuccess:function(e){e&&e.invoice.totalInvoices>0&&f({primaryInfo:(0,a.jsx)(a.Fragment,{children:e.invoice.hasMultipleCurrencies?"".concat(e.invoice.totalInvoices," invoice").concat(e.invoice.totalInvoices>1?"s":""):(0,a.jsx)($.Z,{value:e.invoice.revenue,currency:e.invoice.currency})}),secondaryInfos:[{label:"paid",value:e.invoice.countPaid},{label:"outstanding",value:e.invoice.countUnpaid}]})}}),he=me.request,fe=me.isLoading,xe=(0,S.Z)({url:"/dashboard/get-business-infos",onSuccess:function(e){e&&(k({primaryInfo:(0,a.jsx)(E.Z,{icon:"BriefcaseIcon",className:"w-8 h-8"}),secondaryInfos:[{label:"day".concat(1!==se(e.business.yearEnd)?"s":""," until year end"),value:se(e.business.yearEnd)},{label:"document".concat(1!==e.business.documents?"s":""),value:e.business.documents}]}),j(e.business.structure))}}),pe=xe.request,ve=xe.isLoading;return(0,l.useEffect)((function(){ie(),le(),de(),he(),pe()}),[]),(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"flex flex-col gap-8 mx-auto max-w-6xl",children:[(0,D.rK)(null===n||void 0===n?void 0:n.business)&&(0,a.jsx)("div",{className:"rounded-md bg-blue-50 p-4",children:(0,a.jsxs)("div",{className:"flex md:items-center gap-3",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(E.Z,{icon:"InformationCircleIcon",className:"h-5 w-5 text-blue-400","aria-hidden":"true"})}),(0,a.jsxs)("div",{className:"flex-1 md:flex md:justify-between md:items-center",children:[(0,a.jsx)("p",{className:"text-sm text-blue-700 mb-3 md:mb-0",children:"We are reviewing your Durable Money account application."}),(0,a.jsx)(d(),{href:"/money/dashboard",children:(0,a.jsxs)("a",{className:"link flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-sm text-blue-700",children:"Check status"}),(0,a.jsx)(E.Z,{icon:"ArrowRightIcon",className:"w-4 h-4 text-blue-700"})]})})]})]})}),(0,a.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,a.jsx)("h1",{className:"text-h1 font-bold",children:"Today"}),(0,a.jsx)("p",{className:"text-body-lg text-gray-500",children:u.ou.now().toFormat("MMMM d")})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-5",children:[ee&&(0,a.jsx)("div",{className:"col-span-1 sm:col-span-2 xl:col-span-3",children:(0,a.jsx)(W,{setOpenEntriHandler:G,onAction:function(e){}})}),(0,a.jsx)(J,{title:"I\u2019ve got the skills to do the work for you",subtitle:(0,a.jsxs)("span",{children:["Boost productivity and streamline tasks with ",(0,a.jsx)("b",{children:"Automation."})]}),ActionButton:(0,a.jsx)("button",{className:"light flex-shrink-0",children:"Enable skills"}),onClick:function(){ne.push("/automation/skills")},bgColor:X.theme.extend.colors.indigo[700],className:"sm:col-span-2 shadow-xl",InformationBanner:(0,a.jsx)(Q,{imgSrc:"dashboard/automation-graphic-homepage-opt.png",objectPosition:"bottom",alt:"AI Assistant chatting with user to provide help"}),allowFooterWrap:!0}),re?(0,a.jsx)(H,{}):ee?void 0!==B&&M&&"public"===(null===_||void 0===_?void 0:_.status)?(0,a.jsx)(J,{title:"Website",ActionButton:(0,a.jsx)("button",{className:"primary semi-transparent",children:"View"}),onClick:function(){return ne.push("/website/analytics")},bgColor:X.theme.extend.colors.gray[800],subtitle:(0,a.jsxs)(a.Fragment,{children:["Your total 7 day traffic is ",0===B?"stable ":B>0?"up ":"down ",0!==B&&(0,a.jsx)(oe,{value:B})]}),InformationBanner:(0,a.jsxs)("div",{className:"flex flex-col p-6",children:[(0,a.jsxs)("p",{className:"flex gap-3 items-center text-h2 text-blue-300 font-bold",children:[(0,a.jsx)(oe,{value:B}),(0,a.jsx)(E.Z,{icon:0===B?"ArrowRightIcon":B>0?"ArrowUpRightIcon":"ArrowDownRightIcon",className:"text-blue-300 w-10 h-10"})]}),(0,a.jsx)("div",{className:"relative min-w-full -mx-6",children:(0,a.jsx)(N,{data:M,options:{responsive:!0,maintainAspectRatio:!1,scales:{x:{display:!1},y:{display:!1,beginAtZero:!1}},plugins:{legend:{display:!1}},elements:{line:{tension:.4}},layout:{padding:{left:0,right:0,top:32,bottom:32}}},plugins:[{id:"draw-shadow",afterDraw:function(e,t){var n=e.ctx,s=e.chartArea,i=n.createLinearGradient(0,s.bottom,0,s.bottom+32);i.addColorStop(0,(0,D.mR)(X.theme.extend.colors.blue[300],20)),i.addColorStop(1,(0,D.mR)(X.theme.extend.colors.blue[300],0)),n.fillStyle=i,n.fillRect(s.left,s.bottom,s.right-s.left,32)}}],className:"shadow-xl"})})]})}):(0,a.jsx)(J,{title:"Website",ActionButton:(0,a.jsx)("button",{className:"primary semi-transparent",children:"public"===(null===_||void 0===_?void 0:_.status)?"View":"Publish"}),onClick:function(){var e,t;return"public"===(null===_||void 0===_?void 0:_.status)?window.open("".concat((null===_||void 0===_?void 0:_.sslCertificate)||"active"===(null===_||void 0===_||null===(e=_.cloudflare)||void 0===e||null===(t=e.ssl)||void 0===t?void 0:t.status)?"https://".concat(null===_||void 0===_?void 0:_.domain):"http://".concat((0,D.lz)(_))),"_blank","noreferrer"):ne.push("/website/settings")},bgColor:X.theme.extend.colors.gray[800],InformationBanner:(0,a.jsxs)("div",{className:"w-full h-full relative",children:[(0,a.jsxs)("div",{className:"relative w-150 h-150",children:[(0,a.jsx)("div",{className:"absolute inset-0 z-20"}),(0,a.jsx)("div",{className:"absolute inset-0 z-10",children:(0,a.jsx)("iframe",{onLoad:function(){setTimeout((function(){return z(!0)}),2e3)},className:(0,D.AK)("h-full w-full",K?"":"hidden"),src:"/website/preview",frameBorder:"0"},"website-".concat(null===_||void 0===_?void 0:_._id))})]}),!K&&(0,a.jsx)("div",{className:"absolute inset-0 z-20 bg-gray-600 animate-pulse"})]}),className:"shadow-xl"}):(0,a.jsx)(J,{title:"Website",subtitle:"Build a site in 30 seconds using AI",ActionButton:(0,a.jsx)("button",{className:"light round icon",children:(0,a.jsx)(E.Z,{icon:"ArrowRightIcon",className:"w-6 h-6 text-indigo-600",from:"heroicons"})}),onClick:function(){return ne.push("/website/dashboard")},InformationBanner:(0,a.jsx)(Q,{imgSrc:"dashboard/website-graphic-homepage-opt.png",alt:"An email icon on the center with multiple people around it as a radar"})}),ue?(0,a.jsx)(H,{}):p?(0,a.jsx)(J,{title:"CRM",ActionButton:(0,a.jsx)("button",{className:"primary semi-transparent",children:"View"}),onClick:function(){return ne.push("/crm/contacts")},accentColor:X.theme.extend.colors.indigo[400],bgColor:X.theme.extend.colors.gray[800],data:p,className:"shadow-xl"}):(0,a.jsx)(J,{title:"CRM",subtitle:"Keep track of contacts in one place",ActionButton:(0,a.jsx)("button",{className:"light round icon",children:(0,a.jsx)(E.Z,{icon:"ArrowRightIcon",className:"w-6 h-6 text-indigo-600",from:"heroicons"})}),onClick:function(){return ne.push("/crm/contacts")},InformationBanner:(0,a.jsx)(Q,{imgSrc:"dashboard/crm-graphics-homepage-opt.png",alt:"An email icon on the center with multiple people around it as a radar"})}),fe?(0,a.jsx)(H,{}):h?(0,a.jsx)(J,{title:"Invoicing",ActionButton:(0,a.jsx)("button",{className:"primary semi-transparent",children:"View"}),onClick:function(){return ne.push("/invoices/list")},accentColor:X.theme.extend.colors.green[400],bgColor:X.theme.extend.colors.gray[800],data:h,className:"shadow-xl"}):(0,a.jsx)(J,{title:"Invoicing",subtitle:"Create professional invoices",ActionButton:(0,a.jsx)("button",{className:"light round icon",children:(0,a.jsx)(E.Z,{icon:"ArrowRightIcon",className:"w-6 h-6 text-indigo-600",from:"heroicons"})}),onClick:function(){return ne.push("/invoices/list")},InformationBanner:(0,a.jsx)(Q,{imgSrc:"dashboard/invoicing-graphic-homepage-opt.png",alt:"A invoice example showing paid status"})}),ve?(0,a.jsx)(H,{}):g?(0,a.jsx)(J,{title:"Business",subtitle:g,ActionButton:(0,a.jsx)("button",{className:"primary semi-transparent",children:"View"}),onClick:function(){return ne.push("/my-business/structure")},accentColor:X.theme.extend.colors.yellow[400],bgColor:X.theme.extend.colors.gray[800],data:y,className:"shadow-xl"}):(0,a.jsx)(J,{title:"Business",subtitle:"Set up your business\u2019 legal structure",ActionButton:(0,a.jsx)("button",{className:"light round icon",children:(0,a.jsx)(E.Z,{icon:"ArrowRightIcon",className:"w-6 h-6 text-indigo-600",from:"heroicons"})}),onClick:function(){return ne.push("/my-business/structure")},InformationBanner:(0,a.jsx)(Q,{imgSrc:"dashboard/business-graphic-homepage-opt.png",alt:"A suitcase icon on the center with hexagonal shapes around it"})})]})]})})}ee.auth=!0}},function(e){e.O(0,[7570,7333,361,9177,7625,1125,9842,4487,9024,3556,9774,2888,179],(function(){return t=51075,e(e.s=t);var t}));var t=e.O();_N_E=t}]);