(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7454],{56340:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/invoices/list",function(){return n(57505)}])},14441:function(e,t,n){"use strict";var s=n(85893),a=n(67294),i=n(66261),l=n(3732),r=(0,a.forwardRef)((function(e,t){var n=e.value,a=e.label,r=e.onClick,c=e.disabled,o=e.hint,d=e.className,u=e.labelClass,m=e.style,x=e.onClear;return(0,s.jsxs)("button",{className:(0,l.AK)("date-input light flex-1 w-full group",d),onClick:r,ref:t,disabled:c,style:m,children:[(0,s.jsx)(i.Z,{icon:"CalendarIcon",className:"h-4 w-4 mr-2"}),a&&(0,s.jsx)("span",{className:(0,l.AK)("text-gray-400",u),children:a}),n||(0,s.jsx)("span",{className:(0,l.AK)("text-gray-400",u),children:o}),"function"===typeof x&&n&&(0,s.jsx)("div",{className:"absolute opacity-0 group-hover:opacity-100 transition-opacity right-2 hover:text-indigo-500",onClick:function(e){e.stopPropagation(),x()},children:(0,s.jsx)(i.Z,{icon:"XCircleIcon",className:"h-5 w-5"})})]})}));r.displayName="DateInput",t.Z=r},48612:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var s=n(85893),a=n(11355),i=n(69737),l=n(67294),r=n(3732),c=n(66261);function o(e){var t=e.open,n=e.setOpen,o=e.children,d=e.onFilter,u=(0,r.ac)("(min-width: 768px)");return(0,l.useEffect)((function(){t&&u&&n(!1)}),[u]),(0,s.jsx)(a.u.Root,{show:t,as:l.Fragment,children:(0,s.jsx)(i.V,{as:"div",className:"fixed z-100 inset-0 overflow-y-auto",onClose:function(){return!1},children:(0,s.jsxs)("div",{className:"flex items-end justify-center h-full text-center md:block",children:[(0,s.jsx)(a.u.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,s.jsx)(i.V.Overlay,{className:"fixed inset-0 bg-black bg-opacity-40 backdrop-blur-2xs transition-opacity"})}),(0,s.jsx)("span",{className:"hidden md:inline-block md:align-middle md:h-screen","aria-hidden":"true",children:"\u200b"}),(0,s.jsx)(a.u.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 md:translate-y-0 md:scale-95",enterTo:"opacity-100 translate-y-0 md:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 md:scale-100",leaveTo:"opacity-0 translate-y-4 md:translate-y-0 md:scale-95",children:(0,s.jsxs)("div",{className:"block md:inline-block w-full md:max-w-md md:align-middle bg-white rounded-t-2xl md:rounded-lg px-4 py-8 md:pt-4 text-left overflow-hidden shadow-xl transform transition-all",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsxs)("h4",{className:"flex items-center",children:[(0,s.jsx)(c.Z,{icon:"AdjustmentsIcon",className:"w-6 h-6 text-indigo-500 mr-2"}),"Filter"]}),(0,s.jsx)("div",{className:"p-2",onClick:function(){return n(!1)},children:(0,s.jsx)(c.Z,{icon:"XIcon",className:"w-6 h-6"})})]}),(0,s.jsx)("div",{className:"flex flex-col space-y-4",children:o}),"function"===typeof d&&(0,s.jsx)("div",{className:"mt-5 md:mt-6",children:(0,s.jsx)("button",{type:"button",className:"primary lg w-full",onClick:function(){return d()},children:"Filter"})})]})})]})})})}},5625:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var s=n(85893),a=n(3732),i=n(66261),l=n(16494),r=n(52077);function c(e){var t=e.className,n=e.page,c=e.setPage,o=e.results,d=e.loading;return(0,s.jsx)("div",{className:(0,a.AK)("sticky -bottom-24 table w-full",t),children:(0,s.jsx)("div",{className:"bg-white border-t rounded-b-lg px-4 py-3 flex items-center justify-between","aria-label":"Pagination",children:(0,s.jsxs)("div",{className:"flex-1 flex items-center justify-between space-x-2 w-full",children:[o.perPage<o.total&&(0,s.jsx)(s.Fragment,{children:n>1&&(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(r.Z,{onClick:function(){return c(1)},className:"light icon sm",disabled:n<=1||d,loading:d,children:(0,s.jsx)(i.Z,{icon:"ChevronDoubleLeftIcon",className:"w-4 h-4"})}),(0,s.jsx)(r.Z,{onClick:function(){return c(n-1)},className:"light icon sm",disabled:n<=1||d,loading:d,children:(0,s.jsx)(i.Z,{icon:"ChevronLeftIcon",className:"w-4 h-4"})})]})}),(0,s.jsxs)("p",{className:"sm:hidden text-sm text-gray-700",children:[(0,s.jsx)("span",{className:"font-medium",children:Math.min(o.page*o.perPage,o.total)})," ","of"," ",(0,s.jsx)("span",{className:"font-medium",children:o.total})]}),(0,s.jsx)("div",{className:"hidden sm:block",children:(0,s.jsx)("div",{className:"text-sm text-gray-700",children:d?(0,s.jsx)(l.Z,{text:"Loading..."}):(0,s.jsxs)("span",{children:["Showing ",(0,s.jsx)("span",{className:"font-medium",children:Math.min((o.page-1)*o.perPage+1,o.total)})," to ",(0,s.jsx)("span",{className:"font-medium",children:Math.min(o.page*o.perPage,o.total)})," of"," ",(0,s.jsx)("span",{className:"font-medium",children:o.total})," results"]})})}),o.perPage<o.total&&(0,s.jsx)(s.Fragment,{children:n<o.totalPages&&(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(r.Z,{onClick:function(){return c(n+1)},className:"light icon sm",disabled:n>=o.totalPages||d,loading:d,children:(0,s.jsx)(i.Z,{icon:"ChevronRightIcon",className:"w-4 h-4"})}),(0,s.jsx)(r.Z,{onClick:function(){return c(o.totalPages)},className:"light icon sm",disabled:n>=o.totalPages||d,loading:d,children:(0,s.jsx)(i.Z,{icon:"ChevronDoubleRightIcon",className:"w-4 h-4"})})]})})]})})})}},74274:function(e,t,n){"use strict";n.d(t,{Z:function(){return x}});var s=n(26042),a=n(69396),i=n(85893),l=n(67294),r=n(46440),c=n(86215),o=n(2740),d=n(11355),u=n(3732),m=n(66261);function x(e){var t=e.className,n=e.icon,x=e.iconFrom,h=e.button,p=e.buttonClassName,f=e.openClassName,g=e.panelClassName,v=e.children,b=e.inline,j=(0,l.useRef)(null),y=(0,l.useState)(null),N=y[0],w=y[1],Z=(0,l.useState)(null),k=Z[0],C=Z[1],F=(0,r.D)(N,k,{placement:"bottom-end",modifiers:[{name:"flip",options:{allowedAutoPlacements:["top-end","bottom-end"]}},{name:"offset",options:{offset:[0,8]}}]}),S=F.styles,_=F.attributes,I=function(e){window.top.dispatchEvent(new CustomEvent("close-dropdown"))};return(0,i.jsx)(c.J,{className:(0,u.AK)("relative text-left",t),children:function(e){var t=e.open;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.J.Button,{ref:w,className:(0,u.AK)(p,t?f:"","cursor-pointer"),onClick:I,children:h||(0,i.jsx)(m.Z,{icon:n||"DotsVerticalIcon",from:x,className:(0,u.AK)("h-5 w-5",t?"text-indigo-500":"text-gray-700")})}),(0,i.jsx)(o.h,{children:(0,i.jsx)("div",(0,a.Z)((0,s.Z)({className:"z-100",ref:j,style:S.popper},_.popper),{children:(0,i.jsx)(d.u,{show:t,as:l.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",beforeEnter:function(){return C(j.current)},afterLeave:function(){return C(null)},children:(0,i.jsx)(c.J.Panel,{static:!0,className:(0,u.AK)(b?"static":"absolute","origin-top-right right-0 mt-1 w-full min-w-60 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none",g),children:v})})}))})]})}})}},54525:function(e,t,n){"use strict";n.d(t,{I:function(){return o}});var a=n(85893),i=n(72510),l=n(76078),r=n(41664),c=n.n(r);function o(e){var t=e.invoice,n=e.domain,r=e.stripeVerified,o=void 0!==r&&r,d=e.setSelected,u=e.setOpenPayModal,m=e.setOpenSendModal,x=e.setOpenShareModal;return t?(0,a.jsxs)(l.Z,{inline:!0,closeOnSelect:!0,buttonClassName:"button round hover:bg-indigo-50",openClassName:"bg-indigo-50",children:[(0,a.jsx)(i.v.Item,{as:"div",children:(0,a.jsx)(c(),{href:"/invoices/preview/".concat(t._id),children:(0,a.jsx)("a",{className:"block px-4 py-2.5 hover:bg-gray-100 text-gray-700",onClick:function(e){return e.stopPropagation()},children:"Preview"})})}),"paid"!==t.status&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.v.Item,{as:"div",children:(0,a.jsx)(c(),{href:"/invoices/".concat(t._id),children:(0,a.jsx)("a",{className:"block px-4 py-2.5 hover:bg-gray-100 text-gray-700",onClick:function(e){return e.stopPropagation()},children:"Edit"})})}),d&&(0,a.jsx)(i.v.Item,{as:"div",children:(0,a.jsx)("p",{className:"block px-4 py-2.5 hover:bg-gray-100 text-gray-700 cursor-pointer",onClick:function(){d(t),m(!0)},children:"Send"})})]}),n&&(0,a.jsx)(i.v.Item,{as:"div",children:(0,a.jsx)(c(),{href:"https://".concat(n,"/invoice/print/").concat(t._id),children:(0,a.jsx)("a",{className:"block px-4 py-2.5 hover:bg-gray-100 text-gray-700",target:"_blank",onClick:function(e){return e.stopPropagation()},children:"Print"})})}),n&&(0,a.jsx)(i.v.Item,{as:"div",children:(0,a.jsx)(c(),{href:"https://".concat(n,"/invoice/print/").concat(t._id),children:(0,a.jsx)("a",{className:"block px-4 py-2.5 hover:bg-gray-100 text-gray-700",target:"_blank",onClick:function(e){return e.stopPropagation()},children:"Download"})})}),"paid"!==t.status?(0,a.jsxs)(a.Fragment,{children:[d&&u&&o&&(0,a.jsx)(i.v.Item,{as:"div",children:(0,a.jsx)("a",{className:"block px-4 py-2.5 cursor-pointer hover:bg-gray-100 text-gray-700",onClick:function(){d(t),x(!0)},children:"Share payment link"})}),d&&u&&(0,a.jsx)(i.v.Item,{as:"div",children:(0,a.jsx)("a",{className:"block px-4 py-2.5 cursor-pointer hover:bg-gray-100 text-gray-700",onClick:function(){d(t),u(!0)},children:"Mark as paid"})})]}):n&&(0,a.jsx)(i.v.Item,{as:"div",children:(0,a.jsx)(c(),{href:"https://".concat(n,"/invoice/").concat(t._id),children:(0,a.jsx)("a",{className:"block px-4 py-2.5 hover:bg-gray-100 text-gray-700",target:"_blank",onClick:function(e){return s.stopPropagation()},children:"Receipt"})})})]}):null}},18362:function(e,t,n){"use strict";var s=n(85893),a=n(66261),i=n(11355),l=n(67294),r=n(43714);t.Z=function(e){var t=e.visible,n=e.context,c=e.onClose,o=e.image,d=e.title,u=e.description,m=e.buttonTitle,x=e.buttonAction,h=e.featTitle,p=e.features,f=e.bgColor,g=e.closeColor,v=(0,r.Z)().track,b=o?"url('".concat(o,"')"):null,j=function(){"function"===typeof c&&c()};return(0,l.useEffect)((function(){t&&v("account:paywall-click",{context:n})}),[t]),(0,s.jsxs)(s.Fragment,{children:[t&&(0,s.jsx)("div",{className:"fixed inset-0 z-100 bg-gray-900/20",onClick:j}),(0,s.jsx)(i.u,{show:t,appear:!0,as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-50",enterTo:"opacity-100 translate-y-0",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 translate-y-50",children:(0,s.jsxs)("div",{className:"fixed bg-white block rounded-t-lg shadow-md z-100 bottom-0 left-0 right-0 w-full max-h-screen overflow-y-auto md:overflow-y-hidden md:h-auto md:rounded-lg md:w-215 md:bottom-auto md:left-[calc(50%-430px)] md:top-[calc(50%-234px)]",children:[(0,s.jsx)("button",{className:"right-5 top-5 absolute z-110",onClick:j,children:(0,s.jsx)(a.Z,{icon:"XIcon",className:"w-5 h-5 ".concat(g||"text-gray-900"," md:text-gray-900")})}),(0,s.jsxs)("div",{className:"flex flex-row flex-wrap justify-center items-center md:flex-nowrap",children:[(0,s.jsx)("div",{className:"w-full md:w-1/2 md:h-120",children:(0,s.jsx)("div",{className:"relative block w-full h-56 md:h-120 ".concat(f||"bg-white"),children:o&&(0,s.jsx)("span",{className:"absolute z-100 inset-0 bg-contain bg-no-repeat bg-center",style:{backgroundImage:b}})})}),(0,s.jsx)("div",{className:"w-full md:w-1/2 md:h-120",children:(0,s.jsxs)("div",{className:"block p-6.5 md:p-8",children:[(0,s.jsx)("h3",{className:"block w-full font-bold text-h3 text-gray-900 mb-4",children:d}),(0,s.jsx)("p",{className:"block w-full text-ceramic-small text-gray-500 font-normal mb-8",children:u}),!!(null===p||void 0===p?void 0:p.length)&&(0,s.jsxs)(s.Fragment,{children:[h&&(0,s.jsx)("p",{className:"block w-full text-gray-900 font-medium text-label mb-4",children:h}),(0,s.jsx)("ul",{className:"m-0 p-0 w-full block mb-4",children:p.map((function(e,t){return(0,s.jsxs)("li",{className:"p-0 m-0 flex flex-row flex-nowrap justify-start items-center pb-3.5",children:[(0,s.jsx)("span",{className:"mr-1",children:(0,s.jsx)(a.Z,{icon:"CheckCircleSolidIcon",className:"w-5 h-5"})}),(0,s.jsx)("span",{className:"text-gray-900 font-normal text-label",children:e})]},"paywall-feature-".concat(t))}))})]}),(0,s.jsx)("button",{className:"block w-full p-4 text-center text-white text-base font-medium rounded-md bg-indigo-600",onClick:function(){x()},children:m})]})})]})]})})]})}},57505:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Y}});var s=n(47568),a=n(26042),i=n(69396),l=n(10253),r=n(29815),c=n(97582),o=n(85893),d=n(30120),u=n(11163),m=n(67294),x=n(41664),h=n.n(x),p=n(33299),f=n(61437),g=n(15564),v=n(3732),b=n(18362),j=function(e){var t=e.onAction,n=e.onClose,s=e.visible;return(0,o.jsx)(b.Z,{visible:s,context:"invoice",image:(0,v.sd)("paywalls/pw-upgrade-invoice-bg.png"),title:"Get paid faster with easy invoicing",description:"Generate and send invoices in seconds.",buttonTitle:"View Plans",buttonAction:t,features:["Create custom invoices","Track payment status","Accept multiple payment options","Customize tax rates"],bgColor:"bg-gray-50",onClose:function(){n()}})},y=n(43714),N=n(10726),w=n(66261),Z=n(16494),k=n(80360),C=(n(39828),n(43490)),F=n(4519),S=n(59578),_=n(11355),I=n(69737),P=n(51523);function E(e){var t=e.domain,n=e.invoice,s=e.open,a=e.setOpen,i=(0,m.useState)("https://".concat(t,"/checkout/").concat(null===n||void 0===n?void 0:n._id)),l=i[0],r=i[1],c=(0,P.Z)(l),d=c.copied,u=c.copy,x=c.reset,f=(0,p.useSession)().data;return(0,m.useEffect)((function(){n&&r("https://".concat(t,"/checkout/").concat(n._id))}),[n]),(0,o.jsx)(_.u.Root,{show:s,as:m.Fragment,children:(0,o.jsx)(I.V,{as:"div",className:"fixed z-100 inset-0 overflow-y-auto",onClose:a,children:(0,o.jsxs)("div",{className:"flex items-end lg:items-center justify-center h-full lg:pt-4 lg:px-4 lg:pb-20 text-center sm:block sm:p-0",children:[(0,o.jsx)(_.u.Child,{as:m.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,o.jsx)(I.V.Overlay,{className:"fixed inset-0 bg-black bg-opacity-40 backdrop-blur-2xs transition-opacity"})}),(0,o.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"\u200b"}),(0,o.jsx)(_.u.Child,{as:m.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:(0,o.jsx)("div",{className:"inline-block align-bottom bg-white rounded-lg px-8 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full sm:p-6 justify-center",children:!0===f.user.stripeVerified?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100",children:(0,o.jsx)(w.Z,{icon:l?"CheckIcon":"ShareIcon",className:"h-6 w-6 text-green-600","aria-hidden":"true"})}),(0,o.jsxs)("div",{className:"mt-3 text-center sm:mt-5",children:[(0,o.jsxs)(I.V.Title,{as:"h3",className:"text-lg leading-6 font-medium text-gray-900",children:[l?"Share":"Generate"," the payment URL"]}),(0,o.jsx)("div",{className:"mt-2",children:(0,o.jsx)("p",{className:"text-sm text-gray-500",children:"Send this payment URL to your customers so they can pay you."})})]})]}),(0,o.jsxs)("div",{className:"mt-5 sm:mt-6 flex flex-col md:flex-row",children:[(0,o.jsx)("button",{type:"button",className:"primary flex-grow md:mr-4 mb-4 md:mb-0",onClick:function(){u(),v.Z9.default("Link copied to clipboard"),setTimeout(x,3e3)},children:d?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(w.Z,{icon:"CheckIcon",className:"w-5 h-5 mr-2"})," Copied!"]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(w.Z,{icon:"ClipboardCopyIcon",className:"w-5 h-5 mr-2"})," Copy to clipboard"]})}),(0,o.jsx)(h(),{href:l||"",children:(0,o.jsxs)("a",{className:"button secondary ",target:"_blank",children:[(0,o.jsx)(w.Z,{icon:"ExternalLinkIcon",className:"w-5 h-5 mr-2"}),"Open URL"]})})]})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:(0,o.jsx)(w.Z,{icon:"IdentificationIcon",className:"h-6 w-6 text-red-600","aria-hidden":"true"})}),(0,o.jsxs)("div",{className:"mt-3 text-center sm:mt-5",children:[(0,o.jsx)(I.V.Title,{as:"h3",className:"text-lg leading-6 font-medium text-gray-900",children:"Payments are disable for this account"}),(0,o.jsx)("div",{className:"mt-2",children:(0,o.jsx)("p",{className:"text-sm text-gray-500",children:"Please verify your account before receiving payments."})})]})]}),(0,o.jsx)("div",{className:"mt-5 sm:mt-6 flex justify-center",children:(0,o.jsx)(h(),{href:"/money/dashboard",children:(0,o.jsx)("a",{className:"button primary",children:"Verify account"})})})]})})})]})})})}var O=n(48612),T=n(12015),A=n(51121),D=n(57333),L=n(52077),R=n(32130);function M(e){var t,n=e.open,l=e.setOpen,r=e.onSuccess,d=(0,m.useState)(!1),u=d[0],x=d[1],h=(0,m.useState)(null),p=h[0],f=h[1],g=(0,m.useState)(!0),b=g[0],j=g[1],y=(0,m.useState)(!1),N=(y[0],y[1]),Z=(0,m.useState)(null),k=Z[0],C=Z[1],S=(0,F.Z)().post;(0,m.useEffect)((function(){!function(){var e;null===p||p&&(null===p||void 0===p?void 0:p.firstName)&&(null===p||void 0===p?void 0:p.accountNumber)&&(null===p||void 0===p?void 0:p.routingNumber)&&9==(null===p||void 0===p||null===(e=p.routingNumber)||void 0===e?void 0:e.length)?j(!0):j(!1)}()}),[p]);var P=function(){var e=(0,s.Z)((function(){var e,t;return(0,c.__generator)(this,(function(n){switch(n.label){case 0:return p&&(null===p||void 0===p?void 0:p.firstName)&&(null===p||void 0===p?void 0:p.accountNumber)&&(null===p||void 0===p?void 0:p.routingNumber)?[3,1]:(j(!1),[3,3]);case 1:return x(!0),p.accountType="personal_checking",p.country="us",[4,S("/money/create-external-bank-account",p).catch(console.log)];case 2:(e=n.sent())&&!0===e.status?((null===e||void 0===e||null===(t=e.content)||void 0===t?void 0:t.verificationLink)?v.Z9.successNoClose("Account created!"):v.Z9.success("Account created!"),"function"===typeof r&&r(),f({}),l(!1)):v.Z9.error("Error saving this payee, please try again. "+e.message),x(!1),n.label=3;case 3:return[2]}}))}));return function(){return e.apply(this,arguments)}}(),E=function(){l(!1),setTimeout((function(){return f({})}),500)};return(0,m.useEffect)((function(){p&&k&&(JSON.stringify(k)===JSON.stringify(p)?N(!1):N(!0))}),[p,k]),(0,m.useEffect)((function(){n?(p&&!p.country&&(p.country="US"),C((0,v.p$)(p))):C(null)}),[n]),(0,o.jsx)(_.u.Root,{show:n,as:m.Fragment,children:(0,o.jsxs)(I.V,{as:"div",className:"fixed inset-0 z-100",onClose:function(){return E()},children:[(0,o.jsx)(_.u.Child,{as:m.Fragment,enter:"transition ease-in-out duration-400",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition ease-in-out duration-400",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,o.jsx)(I.V.Overlay,{className:"fixed inset-0 bg-black bg-opacity-40 backdrop-blur-2xs transition-opacity"})}),(0,o.jsx)("div",{className:"fixed inset-y-0 max-w-full right-0 flex z-50",children:(0,o.jsx)(_.u.Child,{as:m.Fragment,appear:"true",enter:"transform transition transition-all ease-in-out duration-500",enterFrom:"translate-x-full",enterTo:"translate-x-0",leave:"transform transition transition-all ease-in-out duration-500",leaveFrom:"translate-x-0",leaveTo:"translate-x-full",children:(0,o.jsx)("div",{className:"relative w-screen max-w-md md:max-w-sm translate-x-full",children:(0,o.jsxs)("div",{className:"relative h-full w-screen max-w-full items-stretch flex flex-col bg-white shadow-xl overflow-y-auto overflow-x-hidden",children:[(0,o.jsxs)("div",{className:"max-w-full sticky top-0 flex items-center justify-between bg-white border-b z-10 p-4 lg:p-6",children:[(0,o.jsx)(I.V.Title,{className:"font-bold text-gray-900",children:(null===p||void 0===p?void 0:p._id)?"Edit external account":"Add external account"}),(0,o.jsxs)("button",{type:"button",className:"flex-shrink-0",onClick:function(){return E()},children:[(0,o.jsx)("span",{className:"sr-only",children:"Close panel"}),(0,o.jsx)(w.Z,{icon:"XIcon",className:"h-5 w-5","aria-hidden":"true"})]})]}),(0,o.jsxs)("div",{className:"flex-1 flex flex-col p-4 lg:p-6 gap-4",children:[(0,o.jsx)("div",{className:"mt-4",children:(0,o.jsx)(R.U,{variant:"info",text:"Add a bank account to enable payouts."})}),(0,o.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,o.jsx)("p",{className:"font-medium text-gray-900",children:"Account owner information"}),(0,o.jsx)(A.Z,{className:"w-full",name:"firstName",error:!b&&(!p||!p.firstName||!/[a-z]/gi.test(p.firstName))&&"You must inform the account's owner name.",value:(null===p||void 0===p?void 0:p.firstName)||"",onChange:function(e){return f((function(t){return(0,i.Z)((0,a.Z)({},t),{firstName:e})}))},type:"text",label:"First name"}),(0,o.jsx)(A.Z,{className:"w-full",name:"lastName",value:(null===p||void 0===p?void 0:p.lastName)||"",onChange:function(e){return f((function(t){return(0,i.Z)((0,a.Z)({},t),{lastName:e})}))},type:"text",label:"Last name"})]}),(0,o.jsx)("hr",{}),(0,o.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,o.jsx)("p",{className:"font-medium text-gray-900",children:"Account information"}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"mb-1",children:"Account number"}),(0,o.jsx)(D.Z,{allowLeadingZeros:!0,className:(0,v.AK)("input",b||(null===p||void 0===p?void 0:p.accountNumber)?"":"error"),value:(null===p||void 0===p?void 0:p.accountNumber)||"",onChange:function(e){return f((0,i.Z)((0,a.Z)({},p),{accountNumber:e.target.value}))}}),!b&&!(null===p||void 0===p?void 0:p.accountNumber)&&(0,o.jsx)("span",{className:"-mt-1 text-red-600 text-sm mb-4",children:"You must inform the account number"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"mb-1",children:"Routing number"}),(0,o.jsx)(D.Z,{className:(0,v.AK)("input",b||(null===p||void 0===p?void 0:p.routingNumber)?"":"error"),value:(null===p||void 0===p?void 0:p.routingNumber)||"",onChange:function(e){return f((0,i.Z)((0,a.Z)({},p),{routingNumber:e.target.value}))}}),(null===p||void 0===p?void 0:p.routingNumber)&&9!=(null===p||void 0===p||null===(t=p.routingNumber)||void 0===t?void 0:t.length)&&(0,o.jsx)("span",{className:"-mt-1 text-red-600 text-sm mb-4",children:"You must inform a valid routing number"}),!b&&!(null===p||void 0===p?void 0:p.routingNumber)&&(0,o.jsx)("span",{className:"-mt-1 text-red-600 text-sm mb-4",children:"You must inform the routing number"})]})]})]}),(0,o.jsxs)("div",{className:(0,v.AK)("sticky left-0 right-0 z-50 flex items-center justify-between gap-3 p-4 lg:px-6 bg-white border-t border-gray-100 transition-all duration-300 bottom-0 opacity-100"),children:[(0,o.jsx)("p",{className:"text-sm font-medium",children:"Unsaved"}),(0,o.jsxs)("div",{className:"flex items-center gap-3",children:[(0,o.jsx)("button",{className:"secondary",disabled:u,onClick:function(){return f((0,v.p$)(k)),void N(!1)},children:"Discard"}),(0,o.jsx)(L.Z,{className:"primary",disabled:!b,onClick:function(){return P()},loading:u,children:"Save"})]})]})]})})})})]})})}var V=n(74274),z=n(5625),q=n(53371),K=n(54525),U=n(69842),X=n(48764).Buffer,G={statuses:["draft","paid","unpaid","past-due"],idCustomer:null};function J(e,t){var n=X.from(JSON.stringify(t)).toString("base64"),s=e.query.state,l=(0,i.Z)((0,a.Z)({},e.query),{state:n});if(!s)return e.replace({query:l});n!==s&&e.push({query:l},void 0,{shallow:!0})}function Y(){var e,t,n,x,b,_,I,P,A,D,L,R,Y,B,$,H,Q,W,ee=(0,l.Z)((0,f.Z)("layout.title","Invoicing",!0),2),te=(ee[0],ee[1],(0,l.Z)((0,f.Z)("layout.paywall"),2)),ne=(te[0],te[1]),se=(0,m.useState)(!1),ae=se[0],ie=se[1],le=(0,m.useState)(1),re=le[0],ce=le[1],oe=(0,m.useState)((0,v.tl)("invoices")),de=oe[0],ue=oe[1],me=(0,m.useState)((0,v.tl)("invoices.customers")),xe=me[0],he=me[1],pe=(0,m.useState)(!1),fe=pe[0],ge=pe[1],ve=(0,m.useState)(!1),be=ve[0],je=ve[1],ye=(0,m.useState)(!1),Ne=ye[0],we=ye[1],Ze=(0,m.useState)(!1),ke=Ze[0],Ce=Ze[1],Fe=(0,m.useState)(!1),Se=Fe[0],_e=Fe[1],Ie=(0,m.useState)(null),Pe=Ie[0],Ee=Ie[1],Oe=(0,m.useState)((0,v.tl)("business.config")),Te=Oe[0],Ae=Oe[1],De=(0,l.Z)((0,f.Z)("layout.restrictedMenus",null),2),Le=(De[0],De[1],(0,m.useState)(!1)),Re=Le[0],Me=Le[1],Ve=(0,m.useState)(!1),ze=Ve[0],qe=Ve[1],Ke=(0,m.useState)(-1),Ue=Ke[0],Xe=Ke[1],Ge=(0,m.useState)(!1),Je=(Ge[0],Ge[1]),Ye=(0,F.Z)(),Be=Ye.get,$e=Ye.post,He=(0,y.Z)().track,Qe=(0,u.useRouter)(),We=(0,p.useSession)().data,et=Qe.query.state,tt=et&&JSON.parse(X.from(et,"base64").toString()),nt=tt?(0,a.Z)({},tt):G,st=(0,m.useState)(nt),at=st[0],it=st[1],lt=function(){var e=(0,s.Z)((function(e){var t,n;return(0,c.__generator)(this,(function(s){switch(s.label){case 0:return(0,v.qE)(null===We||void 0===We||null===(t=We.user)||void 0===t?void 0:t.subscriptionStatus)?(ie(!0),[4,Be("/invoice/get-by-filter",(0,a.Z)({page:re,perPage:10},e)).catch(console.log)]):[3,2];case 1:return(n=s.sent())&&!0===n.status&&n.content&&((0,v.Fs)("invoices",n.content),ue(n.content)),ie(!1),[3,3];case 2:ue({total:0,invoices:[]}),s.label=3;case 3:return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),rt=function(){var e=(0,s.Z)((function(){var e;return(0,c.__generator)(this,(function(t){switch(t.label){case 0:return[4,Be("/business/get-config")];case 1:return(e=t.sent())&&!0===e.status&&e.content&&((0,v.Fs)("business.config",e.content),Ae(e.content)),[2]}}))}));return function(){return e.apply(this,arguments)}}(),ct=function(){var e=(0,s.Z)((function(){var e;return(0,c.__generator)(this,(function(t){switch(t.label){case 0:return[4,Be("/invoice/count-invoices-this-month")];case 1:return(e=t.sent())&&!0===e.status&&e.content?Xe(e.content||0):Xe(0),[2]}}))}));return function(){return e.apply(this,arguments)}}(),ot=function(){var e=(0,s.Z)((function(e){var t,n,s;return(0,c.__generator)(this,(function(a){switch(a.label){case 0:return(0,v.qE)(null===We||void 0===We||null===(t=We.user)||void 0===t?void 0:t.subscriptionStatus)?[4,Be("/customer/get-by-filter",{page:re,perPage:99,query:e}).catch(console.log)]:[3,2];case 1:(n=a.sent())&&!0===n.status&&n.content&&(s=[{name:"All contacts",id:null}].concat((0,r.Z)(n.content.customers.map((function(e){return{name:"".concat(e.firstName," ").concat(e.lastName||""),id:e._id}})))),(0,v.Fs)("invoices.customers",s),he(s)),a.label=2;case 2:return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),dt=(function(){var e=(0,s.Z)((function(){var e;return(0,c.__generator)(this,(function(t){switch(t.label){case 0:return Je(!0),[4,$e("/stripe/get-onboarding-url",{withMoney:!1})];case 1:return(e=t.sent())&&!0===e.status&&e.content.url?(0,g.k)(We,{callbackUrl:"/my-business/settings"},!1).then(function(){var t=(0,s.Z)((function(t){return(0,c.__generator)(this,(function(t){switch(t.label){case 0:return[4,Qe.push(e.content.url)];case 1:return t.sent(),Je(!1),[2]}}))}));return function(e){return t.apply(this,arguments)}}()).catch(console.log):(v.Z9.error(e.message),Je(!1)),[2]}}))}))}(),function(){var e=(0,s.Z)((function(){var e;return(0,c.__generator)(this,(function(t){switch(t.label){case 0:return ie(!0),[4,$e("/stripe/get-onboarding-url",{withMoney:!0})];case 1:return(e=t.sent())&&!0===e.status&&e.content.url?(0,g.k)(We,{callbackUrl:"/my-business/settings"},!1).then(function(){var t=(0,s.Z)((function(t){return(0,c.__generator)(this,(function(t){switch(t.label){case 0:return[4,Qe.push(e.content.url)];case 1:return t.sent(),ie(!1),[2]}}))}));return function(e){return t.apply(this,arguments)}}()).catch(console.log):v.Z9.error(e.message),ie(!1),[2]}}))}))}(),function(e){return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(k.Z,{className:"min-w-80 w-full",inline:e,values:xe,value:at.idCustomer&&(null===xe||void 0===xe?void 0:xe.find((function(e){return e.id===at.idCustomer}))),placeholder:"All contacts",hasFilter:!0,filterFunction:ot,onChange:function(e){return it((0,i.Z)((0,a.Z)({},at),{idCustomer:e.id}))}}),(0,o.jsxs)(V.Z,{buttonClassName:"light min-w-40 lg:max-w-40 w-full",button:(0,o.jsxs)("div",{className:"flex flex-1 justify-between items-center",children:[(0,o.jsx)("span",{children:"Status"}),(0,o.jsx)(w.Z,{icon:"ChevronDownIcon",className:"h-5 w-5"})]}),inline:e,children:[(0,o.jsxs)("label",{className:"flex items-center justify-between py-2.5 px-3",children:[(0,o.jsx)("span",{className:"badge bg-gray-100 text-gray-800",children:"Draft"}),(0,o.jsx)(C.Z,{onChange:function(e){e?at.statuses.includes("draft")||it((0,i.Z)((0,a.Z)({},at),{statuses:(0,r.Z)(at.statuses).concat(["draft"])})):at.statuses.includes("draft")&&it((0,i.Z)((0,a.Z)({},at),{statuses:(0,r.Z)(at.statuses.filter((function(e){return"draft"!==e})))}))},enabled:at.statuses.includes("draft")})]}),(0,o.jsxs)("label",{className:"flex items-center justify-between py-2.5 px-3",children:[(0,o.jsx)("span",{className:"badge bg-green-100 text-green-800",children:"Paid"}),(0,o.jsx)(C.Z,{onChange:function(e){e?at.statuses.includes("paid")||it((0,i.Z)((0,a.Z)({},at),{statuses:(0,r.Z)(at.statuses).concat(["paid"])})):at.statuses.includes("paid")&&it((0,i.Z)((0,a.Z)({},at),{statuses:(0,r.Z)(at.statuses.filter((function(e){return"paid"!==e})))}))},enabled:at.statuses.includes("paid")})]}),(0,o.jsxs)("label",{className:"flex items-center justify-between py-2.5 px-3",children:[(0,o.jsx)("span",{className:"badge bg-yellow-100 text-yellow-800",children:"Unpaid"}),(0,o.jsx)(C.Z,{onChange:function(e){e?at.statuses.includes("unpaid")||it((0,i.Z)((0,a.Z)({},at),{statuses:(0,r.Z)(at.statuses).concat(["unpaid"])})):at.statuses.includes("unpaid")&&it((0,i.Z)((0,a.Z)({},at),{statuses:(0,r.Z)(at.statuses.filter((function(e){return"unpaid"!==e})))}))},enabled:at.statuses.includes("unpaid")})]}),(0,o.jsxs)("label",{className:"flex items-center justify-between py-2.5 px-3",children:[(0,o.jsx)("span",{className:"badge bg-red-100 text-red-800",children:"Past due"}),(0,o.jsx)(C.Z,{onChange:function(e){e?at.statuses.includes("past-due")||it((0,i.Z)((0,a.Z)({},at),{statuses:(0,r.Z)(at.statuses).concat(["past-due"])})):at.statuses.includes("past-due")&&it((0,i.Z)((0,a.Z)({},at),{statuses:(0,r.Z)(at.statuses.filter((function(e){return"past-due"!==e})))}))},enabled:at.statuses.includes("past-due")})]})]})]})}),ut=function(e){var t=e.invoice,n=(Number((t.subtotal*(1+t.tax)).toFixed(2))+Number((t.includeFees?t.fee:0).toFixed(2))).toFixed(2);return(0,o.jsx)(U.Z,{value:n,currency:t.currency})};return(0,m.useEffect)((function(){Se||J(Qe,at)}),[at]),(0,m.useEffect)((function(){lt(nt),it(nt)}),[Qe.query,re]),(0,m.useEffect)((function(){rt(),ct()}),[]),(0,m.useEffect)((function(){var e,t,n,s,a,i,l,r;Te&&(null===Te||void 0===Te||null===(e=Te.business)||void 0===e||null===(t=e.stripeDetails)||void 0===t||null===(n=t.featureRequested)||void 0===n?void 0:n.includes("ccPayments"))&&(null===Te||void 0===Te||null===(s=Te.business)||void 0===s||null===(a=s.stripeDetails)||void 0===a||null===(i=a.requirements)||void 0===i?void 0:i.includes("external_account"))&&"express"!==(null===Te||void 0===Te||null===(l=Te.business)||void 0===l||null===(r=l.stripeDetails)||void 0===r?void 0:r.accountType)&&Ce(!0)}),[Te]),(0,m.useEffect)((function(){He("app:invoicing-viewed")}),[]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(q.Z,{context:"cc_payments",open:Re,setOpen:Me}),(0,o.jsx)(j,{visible:ze,onAction:function(){qe(!1),ne(!0)},onClose:function(){qe(!1)}}),(0,o.jsx)(N.Z,{className:"mb-4"}),de&&!de.exists&&(0,o.jsxs)("div",{className:"max-w-3xl mx-auto",children:[(0,o.jsx)("div",{className:"max-w-xl mb-6",children:(0,o.jsx)("p",{className:"text-h3 lg:text-h1 font-extrabold text-gray-900",children:"Get paid faster with professional invoices"})}),(0,o.jsxs)("div",{className:"flex items-center flex-wrap gap-4 mb-10",children:[Ue>=((null===We||void 0===We||null===(e=We.user)||void 0===e||null===(t=e.plan)||void 0===t||null===(n=t.limits)||void 0===n?void 0:n.invoices)>=0?null===We||void 0===We||null===(x=We.user)||void 0===x||null===(b=x.plan)||void 0===b||null===(_=b.limits)||void 0===_?void 0:_.invoices:Number.MAX_SAFE_INTEGER)?(0,o.jsx)("button",{className:"button primary",onClick:function(){return qe(!0)},children:"Create invoice"}):(0,o.jsx)(h(),{href:"/invoices/create",children:(0,o.jsx)("a",{className:"button primary",children:"Create invoice"})}),(0,o.jsx)(h(),{href:"https://help.durable.co/en/collections/6398678-invoicing",children:(0,o.jsxs)("a",{className:"link flex items-center gap-2",target:"_blank",children:[(0,o.jsx)("span",{className:"text-sm",children:"Learn more"}),(0,o.jsx)(w.Z,{icon:"ExternalLinkIcon",className:"w-4 h-4"})]})})]}),(0,o.jsx)("div",{className:"flex items-center justify-center w-full h-[215px] sm:h-[380px] md:h-[420px] lg:h-[480px] rounded-lg shadow-lg bg-black overflow-hidden",children:(0,o.jsx)("iframe",{src:"https://www.loom.com/embed/1eab669a82644841ad5ef73873d30114",width:"100%",height:"100%",frameBorder:"0",allow:"autoplay; fullscreen; picture-in-picture",allowFullScreen:!0})})]}),!de||(null===de||void 0===de?void 0:de.exists)&&Ue<0?(0,o.jsx)(Z.Z,{variant:"table"}):"",de&&de.exists&&Ue>=0&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"hidden lg:flex w-full items-center justify-between gap-3 mb-4 lg:mb-6",children:[(0,o.jsx)("div",{className:"flex items-center gap-3",children:dt()}),(0,o.jsx)("div",{className:"flex items-center gap-3",children:Ue>=((null===We||void 0===We||null===(I=We.user)||void 0===I||null===(P=I.plan)||void 0===P||null===(A=P.limits)||void 0===A?void 0:A.invoices)>=0?null===We||void 0===We||null===(D=We.user)||void 0===D||null===(L=D.plan)||void 0===L||null===(R=L.limits)||void 0===R?void 0:R.invoices:Number.MAX_SAFE_INTEGER)?(0,o.jsx)("button",{className:"button primary",onClick:function(){return qe(!0)},children:"Create invoice"}):(0,o.jsx)(h(),{href:"/invoices/create",children:(0,o.jsx)("a",{className:"button primary",children:"Create invoice"})})})]}),(0,o.jsxs)("div",{className:"flex lg:hidden w-full items-center justify-between gap-3 mb-4 lg:mb-6",children:[(0,o.jsxs)("button",{className:"light",onClick:function(){return _e(!0)},children:[(0,o.jsx)(w.Z,{icon:"FilterIcon",className:"w-4 h-4 mr-2"}),"Filter"]}),(0,o.jsx)("div",{className:"flex items-center gap-3",children:Ue>=((null===We||void 0===We||null===(Y=We.user)||void 0===Y||null===(B=Y.plan)||void 0===B||null===($=B.limits)||void 0===$?void 0:$.invoices)>=0?null===We||void 0===We||null===(H=We.user)||void 0===H||null===(Q=H.plan)||void 0===Q||null===(W=Q.limits)||void 0===W?void 0:W.invoices:Number.MAX_SAFE_INTEGER)?(0,o.jsx)("button",{className:"button primary",onClick:function(){return qe(!0)},children:"Create invoice"}):(0,o.jsx)(h(),{href:"/invoices/create",children:(0,o.jsx)("a",{className:"button primary",children:"Create invoice"})})})]}),(0,o.jsx)("div",{className:"flex flex-col",children:(0,o.jsx)("div",{className:"-my-2 sm:-mx-6 lg:-mx-8",children:(0,o.jsx)("div",{className:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8",children:(0,o.jsxs)("div",{className:"shadow border-b border-gray-200 rounded-lg",children:[(0,o.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{scope:"col",className:"px-3 sm:px-6 py-4 text-left text-sm font-semibold bg-gray-50 rounded-tl-lg tracking-wider",children:"Contact / Invoice #"}),(0,o.jsx)("th",{scope:"col",className:"hidden lg:table-cell px-6 py-4 text-left text-sm font-semibold bg-gray-50 tracking-wider",children:"Date issued"}),(0,o.jsx)("th",{scope:"col",className:"hidden md:table-cell px-6 py-4 text-left text-sm font-semibold bg-gray-50 tracking-wider",children:"Due date"}),(0,o.jsx)("th",{scope:"col",className:"hidden md:table-cell px-6 py-4 text-left text-sm font-semibold bg-gray-50 tracking-wider",children:"Total"}),(0,o.jsx)("th",{scope:"col",className:"md:hidden px-3 sm:px-6 py-4 text-right text-sm font-semibold bg-gray-50 tracking-wider",children:"Total / Due Date"}),(0,o.jsx)("th",{scope:"col",className:"hidden md:table-cell px-6 py-4 text-left text-sm font-semibold bg-gray-50 tracking-wider",children:"Status"}),(0,o.jsx)("th",{scope:"col",className:"relative px-0 sm:px-6 py-4 bg-gray-50 rounded-tr-lg",children:(0,o.jsx)("span",{className:"sr-only",children:"Edit"})})]})}),(0,o.jsxs)("tbody",{className:"divide-y divide-gray-200",children:[0===de.invoices.length&&(0,o.jsx)("tr",{children:(0,o.jsx)("td",{colSpan:"100%",className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 bg-white rounded-b-lg",children:"No invoice found"})}),de.invoices.map((function(e,t){var n;return(0,o.jsxs)("tr",{className:"bg-white hover:bg-gray-50 cursor-pointer",onClick:function(){return Qe.push("/invoices/preview/".concat(e._id))},children:[(0,o.jsxs)("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap text-sm font-medium",children:[(0,o.jsxs)("div",{className:"flex items-center gap-1 mb-1",children:[(0,o.jsx)("span",{children:e.Customer?e.Customer.firstName+(e.Customer.lastName?" ".concat(e.Customer.lastName):""):"-"}),(0,o.jsxs)("span",{className:"inline-block ml-1 text-gray-500 text-body-sm",children:["#",String(e.number).padStart(3,"0")]})]}),(0,o.jsxs)("p",{className:"flex items-center gap-1 md:hidden",children:["unpaid"===e.status||"expired"===e.status?e.sent?(0,o.jsx)("span",{className:"badge bg-yellow-100 text-yellow-800",children:"Unpaid"}):(0,o.jsx)("span",{className:"badge bg-gray-100 text-gray-800",children:"Draft"}):(0,o.jsx)("span",{className:"badge bg-green-100 text-green-800",children:"Paid"}),"paid"!==e.status&&d.ou.fromISO(e.dueDate).endOf("day")<d.ou.now().startOf("day")&&(0,o.jsx)("span",{className:"badge bg-red-100 text-red-800",children:"Past due"})]})]}),(0,o.jsx)("td",{className:"hidden lg:table-cell px-6 py-4 whitespace-nowrap text-sm",children:d.ou.fromISO(e.date).toFormat("DD")}),(0,o.jsx)("td",{className:"hidden md:table-cell px-6 py-4 whitespace-nowrap text-sm",children:d.ou.fromISO(e.dueDate).toFormat("DD")}),(0,o.jsx)("td",{className:"hidden md:table-cell px-6 py-4 whitespace-nowrap text-sm",children:(0,o.jsx)(ut,{invoice:e})}),(0,o.jsxs)("td",{className:"md:hidden px-3 sm:px-6 py-3 whitespace-nowrap text-right pace-x-2",children:[(0,o.jsx)("p",{className:"text-black font-medium",children:(0,o.jsx)(ut,{invoice:e})}),(0,o.jsx)("p",{className:"text-sm text-gray-500",children:d.ou.fromISO(e.dueDate).toFormat("dd LLL, yyyy")})]}),(0,o.jsxs)("td",{className:"hidden md:table-cell px-6 py-3 whitespace-nowrap text-sm text-gray-500 space-x-2",children:["unpaid"===e.status||"expired"===e.status?e.sent?(0,o.jsx)("span",{className:"badge bg-yellow-100 text-yellow-800",children:"Unpaid"}):(0,o.jsx)("span",{className:"badge bg-gray-100 text-gray-800",children:"Draft"}):(0,o.jsx)("span",{className:"badge bg-green-100 text-green-800",children:"Paid"}),"paid"!==e.status&&d.ou.fromISO(e.dueDate).endOf("day")<d.ou.now().startOf("day")&&(0,o.jsx)("span",{className:"badge bg-red-100 text-red-800",children:"Past due"})]}),(0,o.jsx)("td",{className:"px-1 sm:px-6 py-4 text-right text-sm font-medium space-x-3 items-center align-middle",children:(0,o.jsx)(K.I,{invoice:e,domain:de.domain,stripeVerified:null===We||void 0===We||null===(n=We.user)||void 0===n?void 0:n.stripeVerified,setSelected:Ee,setOpenPayModal:ge,setOpenSendModal:we,setOpenShareModal:je})})]},e._id)}))]})]}),de.total>0&&(0,o.jsx)(z.Z,{page:re,results:de,loading:ae,setPage:ce})]})})})})]}),(0,o.jsx)(S.Z,{idInvoice:null===Pe||void 0===Pe?void 0:Pe._id,open:fe,setOpen:ge}),(0,o.jsx)(E,{domain:null===de||void 0===de?void 0:de.domain,invoice:Pe,open:be,setOpen:je}),(0,o.jsx)(T.Z,{invoice:Pe,open:Ne,setOpen:we}),(0,o.jsx)(O.Z,{open:Se,setOpen:_e,onFilter:function(){J(Qe,at),_e(!1)},children:dt(!0)}),(0,o.jsx)(M,{open:ke,setOpen:Ce})]})}Y.auth=!0}},function(e){e.O(0,[6440,7333,696,4544,2238,9842,5188,9774,2888,179],(function(){return t=56340,e(e.s=t);var t}));var t=e.O();_N_E=t}]);