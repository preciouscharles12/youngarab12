(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4101],{93644:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/website/optimize",function(){return n(38069)}])},48176:function(e,t,n){"use strict";var i=n(85893),r=n(25675),s=n.n(r);t.Z=function(e){var t=e.imgSrc,n=e.title,r=e.subtitle,a=e.cta;return(0,i.jsxs)("div",{className:"flex flex-col gap-5 items-center max-w-100",children:[t&&(0,i.jsx)("div",{className:"relative w-72 h-24 max-w-full",children:(0,i.jsx)(s(),{src:t,alt:n,layout:"fill",objectFit:"cover"})}),(0,i.jsxs)("div",{className:"flex flex-col gap-2 text-center",children:[(0,i.jsx)("p",{className:"body-lg font-bold text-black",children:n}),(0,i.jsx)("p",{className:"text-gray-500",children:r})]}),a]})}},38069:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return C}});var i=n(26042),r=n(69396),s=n(51351),a=n(85893),l=n(67294),o=n(61437),c=n(48176),u=n(11163),d=n(4519),m=n(3732),x=n(47568),b=n(97582),f=n(66261),p=function(e){var t=e.title,n=e.description,i=e.icon,r=e.children,s=(0,l.useState)(!1),o=s[0],c=s[1];return(0,a.jsxs)("div",{className:(0,m.AK)("p-6 rounded-lg transition-all",o?"bg-white drop-shadow-md":"bg-gray-50"),children:[(0,a.jsxs)("div",{className:"flex gap-3 sm:justify-between sm:items-center",children:[(0,a.jsx)("div",{className:(0,m.AK)("p-2 w-10 h-10 rounded-full text-white transition-all",o?"bg-black":"bg-gray-400"),children:(0,a.jsx)(f.Z,{icon:i,className:"w-6 h-6"})}),(0,a.jsxs)("div",{className:"flex flex-col justify-between gap-2 sm:flex-row sm:flex-grow sm:items-center",children:[(0,a.jsxs)("div",{className:"flex flex-col justify-between gap-1",children:[(0,a.jsx)("p",{className:"text-gray-900 mb-1 font-bold",children:t}),(0,a.jsx)("p",{className:"font-normal text-gray-500",children:n})]}),(0,a.jsx)("div",{children:(0,a.jsx)("button",{className:"font-medium link",onClick:function(){c(!o)},children:o?"Close":"View"})})]})]}),o&&r]})},g=n(16494),h=n(32130),v=function(e){var t=e.alertText,n=e.actionItems,i=e.parentElementName,r=e.actionHelperText,s=e.currentlyFixing,l=e.onFixClickedCallback,o=e.actionText,c=void 0===o?"Fix this":o,u=e.actionInProgressText,d=void 0===u?"Fixing":u;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"mt-6 mb-6",children:(0,a.jsx)(h.U,{variant:"info",text:t})}),(0,a.jsx)("div",{className:"rounded-lg bg-gray-50",children:n.map((function(e,t){var o=n.length>1&&t!==n.length-1,u=e.title,m=e.id;return(0,a.jsx)("div",{className:"pl-4 pr-4",children:(0,a.jsxs)("div",{className:"flex flex-col gap-2 sm:gap-6 pt-3 pb-3 ".concat(o?"border-b border-gray-200":""," sm:flex-row"),children:[(0,a.jsxs)("div",{className:"sm:flex-grow",children:[(0,a.jsx)("p",{className:"text-gray-900 text-sm font-semibold mb-1",children:u}),(0,a.jsx)("p",{className:"text-sm text-red-600 font-normal",children:r})]}),(null===s||void 0===s?void 0:s.id)===m?(0,a.jsxs)("div",{className:"flex items-center gap-1 text-gray-500",children:[(0,a.jsx)("span",{className:"font-medium text-sm",children:d}),(0,a.jsx)(g.Z,{text:"",className:"w-4 h-4"})]}):(0,a.jsxs)("div",{className:"flex items-center gap-1 link cursor-pointer",onClick:function(){return l(e)},children:[(0,a.jsx)("span",{className:"font-medium text-sm",children:c}),(0,a.jsx)(f.Z,{icon:"ArrowRightIcon",className:"w-4 h-4"})]})]})},"".concat(i,"-").concat(t))}))})]})},j=function(e){var t=e.data.domain,n=(0,u.useRouter)(),i=function(){var e=(0,x.Z)((function(){return(0,b.__generator)(this,(function(e){switch(e.label){case 0:return[4,n.push("/website/domain")];case 1:return e.sent(),[2]}}))}));return function(){return e.apply(this,arguments)}}();return(0,a.jsx)(p,{icon:"WindowIcon",title:"Claim a custom domain",description:"Make your website stand out with a free custom domain",children:(0,a.jsx)(v,{alertText:"A custom domain name looks professional and more memorable for customers.",actionItems:[{id:1,title:t}],parentElementName:"claim-a-domain",actionHelperText:"You are still using a Durable subdomain",currentlyFixing:null,onFixClickedCallback:i,actionText:"Get a domain name"})})},w=function(e){var t=e.id,n=e.disableOptimizeOption,i=e.businessID,r=(0,l.useState)(null),s=r[0],o=r[1],c=(0,d.Z)().post,u=function(){var e=(0,x.Z)((function(e){var r;return(0,b.__generator)(this,(function(s){switch(s.label){case 0:return o(e),[4,c("/optimize-website/enable-indexing",{businessID:i})];case 1:return function(e){if(!e)return o(null),void m.Z9.error("Failed to enable indexing. Please try again later.");m.Z9.success("Indexing enabled"),n(t)}(null===(r=s.sent())||void 0===r?void 0:r.status),[2]}}))}));return function(t){return e.apply(this,arguments)}}();return(0,a.jsx)(p,{icon:"GlobeEuropeAfricaIcon",title:"Enable indexing",description:"Your website does not currently appear in Google Search results",children:(0,a.jsx)(v,{alertText:"Indexing makes your website visible in search results and improves SEO.",actionItems:[{id:1,title:"Indexing"}],parentElementName:"enable-indexing",actionHelperText:"Indexing is currently disabled",currentlyFixing:s,onFixClickedCallback:u,actionText:"Enable",actionInProgressText:"Enabling"})})},y=function(e){var t=e.id,n=e.disableOptimizeOption,i=e.businessID,r=(0,l.useState)(null),s=r[0],o=r[1],c=(0,d.Z)().post,u=function(){var e=(0,x.Z)((function(e){var r;return(0,b.__generator)(this,(function(s){switch(s.label){case 0:return o(e),[4,c("/optimize-website/enable-domain-redirect",{businessID:i})];case 1:return function(e){if(!e)return o(null),void m.Z9.error("Failed to enable domain redirect. Please try again later.");m.Z9.success("Domain redirect enabled"),n(t)}(null===(r=s.sent())||void 0===r?void 0:r.status),[2]}}))}));return function(t){return e.apply(this,arguments)}}();return(0,a.jsx)(p,{icon:"BuildingStorefrontIcon",title:"Redirect your domain",description:"Redirection is currently disabled",children:(0,a.jsx)(v,{alertText:"Redirecting your domain improves your SEO and domain authority.",actionItems:[{id:1,title:"Redirection"}],parentElementName:"redirect-domain",actionHelperText:"Redirection is currently disabled",currentlyFixing:s,onFixClickedCallback:u,actionText:"Enable",actionInProgressText:"Enabling"})})},N=function(){var e=(0,u.useRouter)(),t=function(){var t=(0,x.Z)((function(){return(0,b.__generator)(this,(function(t){switch(t.label){case 0:return[4,e.push({pathname:"/website/builder",query:{routerAction:"createBlogPost"}})];case 1:return t.sent(),[2]}}))}));return function(){return t.apply(this,arguments)}}();return(0,a.jsx)(p,{icon:"DocumentTextIcon",title:"Create your blog",description:"Your website has no blog",children:(0,a.jsx)(v,{alertText:"A blog drives traffic to your website, engages customers, and improves SEO.",actionItems:[{id:1,title:"Blog"}],parentElementName:"create-your-blog",actionHelperText:"No blog posts yet",currentlyFixing:null,onFixClickedCallback:t,actionText:"Create a post"})})},k=function(){var e=(0,u.useRouter)(),t=function(){var t=(0,x.Z)((function(){return(0,b.__generator)(this,(function(t){switch(t.label){case 0:return[4,e.push({pathname:"/website/builder",query:{routerAction:"addSocialLinks"}})];case 1:return t.sent(),[2]}}))}));return function(){return t.apply(this,arguments)}}();return(0,a.jsx)(p,{icon:"ChatBubbleLeftRightIcon",title:"Add social links",description:"Your website is not linking to your social media channels",children:(0,a.jsx)(v,{alertText:"Linking to social media boosts your brand presence and engagement.",actionItems:[{id:1,title:"Social links"}],parentElementName:"add-social-links",actionHelperText:"There are no social links",currentlyFixing:null,onFixClickedCallback:t})})},I=function(){return(0,a.jsxs)("div",{className:"flex items-center justify-center flex-col gap-y-4 text-center h-[calc(100vh-250px)] sm:h-[calc(100vh-200px)]",children:[(0,a.jsx)("div",{className:"p-4 w-20 h-20 rounded-full text-white bg-green-500",children:(0,a.jsx)(f.Z,{icon:"CheckCircleSolidIcon",className:"h-12 w-12"})}),(0,a.jsx)("p",{className:"text-gray-900 text-2xl font-bold",children:"Your website is currently optimized"})]})};function C(e){e=null!==e?e:(0,s.Z)(new TypeError("Cannot destructure undefined"));(0,o.Z)("layout.title","Website",!0);var t=(0,d.Z)().get,n=(0,l.useState)(!0),x=n[0],b=n[1],f={customDomain:j,indexing:w,redirectDomain:y,createYourBlog:N,addSocialLinks:k},p=(0,l.useState)({}),h=p[0],v=p[1],C=(0,l.useState)(null),E=C[0],T=C[1],Z=(0,l.useState)((0,m.tl)("website")),S=Z[0],_=Z[1],F=(0,u.useRouter)();(0,l.useEffect)((function(){t("/website/get",{populate:!0}).then((function(e){if(e&&!0===e.status&&e.content){var t=(0,r.Z)((0,i.Z)({},e.content),{subdomain:(0,m.nv)(e.content.subdomain,e.content.durableDomain)});(0,m.Fs)("website",t),_(t)}}))}),[]),(0,l.useEffect)((function(){var e=sessionStorage.getItem("idBusiness");T(e),t("/optimize-website",{businessID:e}).then((function(e){if((null===e||void 0===e?void 0:e.status)&&(null===e||void 0===e?void 0:e.data)){var t=null===e||void 0===e?void 0:e.data,n=Object.keys(t).filter((function(e){return t[e].enabled})).reduce((function(e,n){return e[n]=t[n],e}),{});v(n),b(!1)}else m.Z9.error("Something went wrong. Please try again later.")})).catch((function(e){console.error(e),m.Z9.error("Something went wrong. Please try again later.")}))}),[]);var O=function(e){var t=(0,m.p$)(h);delete t[e],v(t)};return S&&!S.generatedAt&&S.generate?(0,a.jsx)("div",{className:"flex items-center justify-center w-full h-full",children:(0,a.jsx)(c.Z,{className:"m-auto",imgSrc:(0,m.sd)("brand/EmptyWebsite.svg"),title:"No website yet",subtitle:"Create a website in 30 seconds using AI",cta:(0,a.jsx)("button",{className:"button primary",onClick:function(){return F.push("/website/builder")},children:"Generate website"})})}):(0,a.jsx)(a.Fragment,{children:x||Object.keys(h).length>0?(0,a.jsx)("div",{className:"flex flex-col gap-4 md:gap-5 max-w-3xl mx-auto",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between gap-3 pt-5 pb-5 pl-6 pr-6 border-b border-gray-200",children:[(0,a.jsx)("p",{className:"leading-5 font-bold text-gray-900 truncate",children:"Optimization Suggestions"}),(0,a.jsx)("br",{})]}),(0,a.jsx)("div",{className:"space-y-4 md:space-y-6 p-6",children:x?(0,a.jsx)(g.Z,{variant:"widget"}):Object.keys(h).filter((function(e){return e in f})).map((function(e,t){return(0,l.createElement)(f[e],{data:h[e],id:e,businessID:E,disableOptimizeOption:O,key:"optimize-option-".concat(t)})}))})]})}):(0,a.jsx)(I,{})})}C.auth=!0}},function(e){e.O(0,[9774,2888,179],(function(){return t=93644,e(e.s=t);var t}));var t=e.O();_N_E=t}]);