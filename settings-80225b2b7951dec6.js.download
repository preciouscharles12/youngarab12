(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6614],{79755:function(n,e,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/my-business/settings",function(){return s(97231)}])},92265:function(n,e,s){"use strict";s.d(e,{Z:function(){return l}});var t=s(47568),i=s(10253),r=s(97582),u=s(3732),o=s(11215),c=s(4519),a=s(61437),d=s(67294),f=s(33299);function l(){var n=(0,i.Z)((0,a.Z)("business.settings.ai",null),3),e=n[0],s=n[1],l=n[2],g=(0,i.Z)((0,a.Z)("business.loadingAiSettings",!1),3),v=g[0],_=g[1],Z=g[2],b=(0,i.Z)((0,a.Z)("business.settings.ai.businessId",null),3),h=b[1],p=b[2],S=(0,o.Z)(),w=S.current,y=S.reloadBusinesses,C=(0,f.useSession)().data,E=!!(null===C||void 0===C?void 0:C.user),m=(0,c.Z)(),A=m.get,N=m.post,k=function(){var n=(0,t.Z)((function(){var n,e;return(0,r.__generator)(this,(function(t){switch(t.label){case 0:return h(null===w||void 0===w?void 0:w._id),_(!0),[4,A("/business/get-settings")];case 1:return(n=t.sent())&&!0===n.status&&n.content&&(e=n.content.ai||{model:"better",language:"en"},(0,u.Fs)("business.settings.ai",e),s(e)),_(!1),[2,n]}}))}));return function(){return n.apply(this,arguments)}}(),F=function(){var n=(0,t.Z)((function(){var n,s,t=arguments;return(0,r.__generator)(this,(function(i){switch(i.label){case 0:return n=!(t.length>0&&void 0!==t[0])||t[0],[4,N("/business/save-settings",{path:"ai",value:e})];case 1:return(s=i.sent())&&!0===s.status&&(y(),n&&u.Z9.success("Settings saved!")),[2,s]}}))}));return function(){return n.apply(this,arguments)}}();return(0,d.useEffect)((function(){E&&(null===w||void 0===w?void 0:w._id)&&(!l.current&&!Z.current||p.current!==(null===w||void 0===w?void 0:w._id))&&k()}),[w,E]),{aiSettings:e,setAiSettings:s,loadingAiSettings:v,getAiSettings:k,saveAiSettings:F,aiSettingsRef:l}}},52699:function(n,e,s){"use strict";s.d(e,{P:function(){return l},Z:function(){return g}});var t=s(47568),i=s(10253),r=s(97582),u=s(3732),o=s(11215),c=s(4519),a=s(61437),d=s(67294),f=s(33299),l=function(n){var e,s,t,i="";(null===n||void 0===n||null===(e=n.office)||void 0===e?void 0:e.address)&&(i+=n.office.address.line1?"".concat(n.office.address.line1,", "):"",i+=n.office.address.line2?"".concat(n.office.address.line2,", "):"",i+=n.office.address.city?"".concat(n.office.address.city,", "):"",i+=n.office.address.state?"".concat(n.office.address.state,", "):"",i+=n.office.address.country?null!==(t=null===(s=u.hW.find((function(e){return e.code===n.office.address.country.toUpperCase()})))||void 0===s?void 0:s.name)&&void 0!==t?t:"".concat(n.office.address.country," "):"",i+=n.office.address.postalCode?", ".concat(n.office.address.postalCode):"");return i.trim()};function g(){var n=(0,i.Z)((0,a.Z)("business.configs",null),3),e=n[0],s=n[1],g=n[2],v=(0,i.Z)((0,a.Z)("business.loadingConfigs",!1),3),_=v[0],Z=v[1],b=v[2],h=(0,i.Z)((0,a.Z)("business.configs.businessId",null),3),p=h[1],S=h[2],w=(0,o.Z)(),y=w.current,C=w.reloadBusinesses,E=(0,f.useSession)().data,m=!!(null===E||void 0===E?void 0:E.user),A=(0,c.Z)(),N=A.get,k=A.post,F=function(){var n=(0,t.Z)((function(){var n;return(0,r.__generator)(this,(function(e){switch(e.label){case 0:return p(null===y||void 0===y?void 0:y._id),Z(!0),[4,N("/business/get-config")];case 1:return(n=e.sent())&&!0===n.status&&n.content?((0,u.Fs)("business.config",n.content),s(n.content),Z(!1),[2,n.content]):(Z(!1),[2,null])}}))}));return function(){return n.apply(this,arguments)}}(),P=function(){var n=(0,t.Z)((function(n){var e;return(0,r.__generator)(this,(function(t){switch(t.label){case 0:return[4,k("/business/save",n).catch(console.log)];case 1:return(e=t.sent())&&!0===e.status?[4,C()]:[3,3];case 2:return t.sent(),u.Z9.success("Settings saved!"),(0,u.Fs)("business.config",n),s(e.content),[2,n];case 3:return u.Z9.error(e.message),[2,null]}}))}));return function(e){return n.apply(this,arguments)}}();return(0,d.useEffect)((function(){m&&(null===y||void 0===y?void 0:y._id)&&(!g.current&&!b.current||S.current!==(null===y||void 0===y?void 0:y._id))&&F()}),[y,m]),{config:e,setConfig:s,getConfig:F,saveConfig:P,getAddressFromConfig:function(){return l(e)},loading:_}}}},function(n){n.O(0,[2295,431,9774,2888,179],(function(){return e=79755,n(n.s=e);var e}));var e=n.O();_N_E=e}]);